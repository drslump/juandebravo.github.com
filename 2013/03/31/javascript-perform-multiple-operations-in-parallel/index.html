<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>JavaScript, perform multiple operations in parallel - juandebravo's personal blog</title>
  <meta name="description" content="juandebravo's personal blog - Personal thoughts about technology (@juandebravo)">
  <meta name="author" content="Juan de Bravo">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link href="http://feeds.feedburner.com/juandebravo" rel="alternate" title="juandebravo's personal blog" type="application/atom+xml">
  <link rel="author" href="/humans.txt">

  <link rel="stylesheet" href="/css/emoji.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/disqus.css">

  <script src="/js/libs/modernizr-2.0.6.min.js"></script>
</head>

<body>
  <div class='main_container'>
    <div class="title">
      <h1>
        <a href="/index.html">juandebravo's personal blog</a>
      </h1>
    </div>
    <div class="menu">
      <ul>
  
    
    
      
    
    <li class="item active">
      <a href="/index.html">Dev Blog</a>
    </li>
  
    
    
    <li class="item ">
      <a href="/open_source.html">Open Source</a>
    </li>
  
    
    
    <li class="item ">
      <a href="/about_me.html">About me</a>
    </li>
  
</ul>
    </div>
    <div class="container">

      <header>   
  <h2><a class="fadedlink" href="/" title="Home">&laquo;</a> JavaScript, perform multiple operations in parallel <small>31 Mar 2013</small></h2>

  <nav>
    <ul class="clearfix">
    
      <li><a href="/tag/javascript.html">javascript</a></li>
    
    </ul>
  </nav>
</header>

<div id="post" role="main">
  <p>I've spent bits of my spare time over the last weeks improving my JavaScript skills. I've read <a href="http://effectivejs.com/">Effective JavaScript: 68 Specific Ways to Harness the Power of JavaScript</a>, by <a href="https://twitter.com/littlecalculist">David Herman</a>; I highly recommend this book to any who wants to dig deeper into this language.</p>

<p>Last Thursday my pal <a href="https://twitter.com/rafeca">@rafeca</a> raised an interesting question: <strong>how could we start two or more asynchronous operations in JavaScript and execute a callback upon all of them are finished, but not before?</strong></p>

<p>One of the latest chapters of the mentioned book comes up with the answer: store responses in an ordered array and execute the callback when every response has been received (there are no pending operations).</p>

<p>Let's see an specific example: <strong>retrieve a set of user profiles from a third party database and print the result in an HTML table only when all of them have been received</strong>.</p>

<p>In the following five steps we'll figure out how to resolve this:</p>

<h1>1.- Create the HTML skeleton to print the user profiles</h1>

<p>Liquid error: No such file or directory - posix_spawnp</p>

<h1>2.- Create a simple function to retrieve user profiles</h1>

<p>For the sake of simplicity, I've mocked the profile database using an in-memory dictionary:</p>

<p>Liquid error: No such file or directory - posix_spawnp</p>

<h1>3.- Create a function to retrieve a set of users profile and execute a callback upon every profile retrieval</h1>

<p>In this step we're building the function that will start in parallel the required operations and execute the relevant callback (success or error in case of any failure):</p>

<p>Liquid error: No such file or directory - posix_spawnp</p>

<h1>4.- Create the client to retrieve a list of user profiles</h1>

<p>Step 4 creates the client that will use the function created in step 3. We need to provide callbacks for both success and error scenearios. Upon success, users profile are printed in the HTML skeleton built in step 1. In case of error, the specific message is shown in the div element:</p>

<p>Liquid error: No such file or directory - posix_spawnp</p>

<h1>5.- Run it</h1>

<p>In this case we're updating the DOM just once, upon retrieving the three users profile. This doesn't provide a high advantage, but if we're retrieving hundreds of elements, updating the DOM in any response may reduce significantly our application performance <span class='emoji emoji_squirrel'>squirrel emoji</span>.</p>

  
  <p class="back">&laquo; <a href="/">Home</a></p>
</div>
      
<!--h2>Related Posts</h2>
<ul class="posts_list">
  
    <li class="post">
  <span class="left_title">23 Jan 2015</span>
  <a href="/2015/01/23/validate-arity" title="Validating Arity in JavaScript">Validating Arity in JavaScript</a>
</li>
  
    <li class="post">
  <span class="left_title">22 Nov 2014</span>
  <a href="/2014/11/22/using-travis-ci-to-build-this-blog" title="Using travis-ci to build this blog">Using travis-ci to build this blog</a>
</li>
  
    <li class="post">
  <span class="left_title">12 Mar 2014</span>
  <a href="/2014/03/12/registering-subclasses-in-python-and-ruby" title="Registering subclasses in python and ruby">Registering subclasses in python and ruby</a>
</li>
  
</ul-->

<hr/>

<h2>Comments</h2>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'juandebravo'; // required: replace example with your forum shortname
    //var disqus_developer = 1; // developer mode is on, for testing locally

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


      <footer>
        <span class="author_info">
          <a href="/about_me.html">Juan de Bravo</a>
        </span>
        <a class="fadedlink footer_link github" href="https://github.com/juandebravo">
          @github
        </a>
        <a class="fadedlink footer_link twitter" href="https://twitter.com/juandebravo">
          @twitter
        </a>
        <a class="fadedlink footer_link linkedin" href="http://linkedin.com/in/juandebravo">
          @linkedin
        </a>
        <a class="fadedlink" href="mailto:juandebravo@gmail.com">
          <img src="/gfx/gmail-logo.png" alt="@gmail">
        </a>
      </footer>
    </div>
  </div>

  <script>
    window._gaq = [['_setAccount','UA-32824811-1'],['_trackPageview'],['_trackPageLoadTime']];
    Modernizr.load({
      load: ('https:' == location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js'
    });
  </script>

  <!--[if lt IE 7 ]>
    <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
    <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
  <![endif]-->
</body>
</html>
