<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

 <title>juandebravo's personal blog</title>
 <link href="http://feeds.feedburner.com/juandebravo" rel="self"/>
 <link href="http://juandebravo.com"/>
 <updated>2017-01-22T13:02:26+01:00</updated>
 <id>http://juandebravo.com</id>
 <author>
   <name>Juan de Bravo</name>
   <email>juandebravo@gmail.com</email>
 </author>

 
 <entry>
   <title>Docker and how to get access to insecure registries</title>
   <link href="http://juandebravo.com/2017/01/22/docker-insecure-registry"/>
   <updated>2017-01-22T00:00:00+01:00</updated>
   <id>http://juandebravo.com/2017/01/22/docker-insecure-registry</id>
   <content type="html">&lt;p&gt;I just realized 2016 passed by and this blog didn’t get any update. I hope you were not worried about my health, I’ve been fine! Just a bit busy :construction_worker: :couplekiss:.&lt;/p&gt;

&lt;p&gt;Last two weeks I’ve been playing a bit with &lt;a href=&quot;https://www.docker.com/&quot;&gt;Docker&lt;/a&gt;. In general before getting your feet wet with a new technology, it’s convenient (required?) to either go through the &lt;a href=&quot;https://docs.docker.com/&quot;&gt;usually great documentation about the project&lt;/a&gt; or follow &lt;a href=&quot;https://harishnarayanan.org/writing/kubernetes-django/&quot;&gt;a tutorial&lt;/a&gt; about it. I did the later, and as a result of it I pushed my first two docker images to &lt;a href=&quot;https://hub.docker.com/r/juandebravo/&quot;&gt;Docker Hub&lt;/a&gt;. Nothing really impressive, but it helps you to go through the basics.&lt;/p&gt;

&lt;p&gt;Last week I started a side project and, for it to be more interesting, I decided to go with Docker and Kubernetes :neckbeard:. It turns out that the project cannot be public, so I needed to use an internal Docker hub we’re using in my current project for keeping it private.&lt;/p&gt;

&lt;p&gt;Unfortunately, that private Docker hub is configured to accept only HTTP requests, instead of HTTPS. I know… bear with me please :pray:.&lt;/p&gt;

&lt;p&gt;After tagging the image, I was trying to push to the docker hub repository and getting this response:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;fish&amp;gt; docker push &amp;lt;insecure-docker-hub-hostname&amp;gt;/&amp;lt;image-name&amp;gt;:&amp;lt;image-tag&amp;gt;
The push refers to a repository [&amp;lt;insecure-docker-hub-hostname&amp;gt;/&amp;lt;image-name&amp;gt;]
Get https://&amp;lt;insecure-docker-hub-hostname&amp;gt;/v1/_ping: dial tcp &amp;lt;IP-address&amp;gt;:443: getsockopt: connection refused&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Console information shows that docker is trying to connect via HTTPS to docker hub.&lt;/p&gt;

&lt;p&gt;For overcoming this and get access via HTTP, you need to do the following:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;If you’re using Mac OSX Docker client&lt;/strong&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Go to Docker -&amp;gt; Daemon -&amp;gt; Basic -&amp;gt; Insecure registries&lt;/li&gt;
  &lt;li&gt;Add &lt;insecure-docker-hub-hostname&gt; to the list&lt;/insecure-docker-hub-hostname&gt;&lt;/li&gt;
  &lt;li&gt;Restart Docker&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;If you’re using a Linux distribution&lt;/strong&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Open file &lt;code&gt;/etc/sysconfig/docker&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Add &lt;code&gt;INSECURE_REGISTRY=&quot;--insecure-registry=&amp;lt;insecure-docker-hub-hostname&amp;gt; &quot;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Restart Docker&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Now you’re ready to work with your insecure Docker hub!&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;fish&amp;gt; docker push &amp;lt;insecure-docker-hub-hostname&amp;gt;/&amp;lt;image-name&amp;gt;:&amp;lt;image-tag&amp;gt;
The push refers to a repository [&amp;lt;insecure-docker-hub-hostname&amp;gt;/&amp;lt;image-name&amp;gt;]
...&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</content>
 </entry>
 
 <entry>
   <title>A virtual machine for WebRTC development</title>
   <link href="http://juandebravo.com/2015/11/23/webrtc-adapter-vagrant-box"/>
   <updated>2015-11-23T00:00:00+01:00</updated>
   <id>http://juandebravo.com/2015/11/23/webrtc-adapter-vagrant-box</id>
   <content type="html">&lt;p&gt;As described in the &lt;a href=&quot;http://www.webrtc.org/&quot;&gt;WebRTC project main webpage&lt;/a&gt;, WebRTC is a free, open project that provides browsers and mobile applications with Real-Time Communications (RTC) capabilities via simple APIs. Or in case you prefer the &lt;a href=&quot;https://en.wikipedia.org/wiki/WebRTC&quot;&gt;Wikipedia definition&lt;/a&gt;, WebRTC (Web Real-Time Communication) is an API definition drafted by the World Wide Web Consortium (W3C) that supports browser-to-browser applications for voice calling, video chat, and P2P file sharing without the need of either internal or external plugins.&lt;/p&gt;

&lt;p&gt;WebRTC implements &lt;strong&gt;three basic new APIs&lt;/strong&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;getUserMedia&lt;/strong&gt;: it represents synchronized streams of media.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;RTCPeerConnection&lt;/strong&gt;: it handles stable and efficient communication of streaming data between peers.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;DataChannel&lt;/strong&gt;: it enables peer-to-peer exchange of arbitrary data.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;http://iswebrtcreadyyet.com/&quot;&gt;iswebrtcreadyyet&lt;/a&gt; lists the different WebRTC functionalities that are supported by the latest version of the most widely used browers.&lt;/p&gt;

&lt;p&gt;WebRTC APIs are still in early stages, which means that new browser versions could introdude non backwards compatible changes, and APIs name may be prefixed by a browser prefix (&lt;em&gt;moz&lt;/em&gt;, &lt;em&gt;webkit&lt;/em&gt;, …), which eventually means the JS developer is in charge on building a shim to support multiple browsers in her webRTC application.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/webrtc&quot;&gt;WebRTC team&lt;/a&gt; has created a &lt;strong&gt;&lt;a href=&quot;https://github.com/webrtc/adapter&quot;&gt;shim called adapter&lt;/a&gt;&lt;/strong&gt; as an effort for hiding those API changes and prefix differences from developers.&lt;/p&gt;

&lt;p&gt;In case you want to get started with &lt;strong&gt;adapter development&lt;/strong&gt;, you will need a &lt;a href=&quot;https://github.com/webrtc/adapter/tree/master/test&quot;&gt;Debian box to ensure you can run the multi-browser tests&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In order to make this process simpler, I have put some effort on creating a Vagrant box called &lt;a href=&quot;https://github.com/juandebravo/webrtc-box&quot;&gt;webrtc-box&lt;/a&gt;, that is in change of automating the development environment setup for working on WebRTC adapter.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Running adapter tests should be as simple as&lt;/strong&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;# Clone repository
host $ git clone https://github.com/juandebravo/webrtc-box.git
host $ cd webrtc-box
host $ vagrant up

# Connect to guest machine
host $ vagrant ssh

# Execute tests
vagrant@debian $ cd /adapter
vagrant@debian /adapter $ npm test&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;And that’s it, you’re ready to start hacking on top of &lt;strong&gt;&lt;a href=&quot;https://github.com/webrtc/adapter&quot;&gt;adapter&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Happy webrtc-ing!!! :city_sunrise: :squirrel:&lt;/p&gt;

&lt;p&gt;In case you read this post before November 30th 2015, you’re on time for making a donation to our &lt;a href=&quot;http://moteam.co/tu-go&quot;&gt;Movember team&lt;/a&gt;!!! :man:&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Demystifying coroutines in python</title>
   <link href="http://juandebravo.com/2015/07/06/demystifying-coroutines-in-python"/>
   <updated>2015-07-06T00:00:00+02:00</updated>
   <id>http://juandebravo.com/2015/07/06/demystifying-coroutines-in-python</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Coroutine&quot;&gt;Coroutines&lt;/a&gt; are &lt;em&gt;special functions&lt;/em&gt; that differ from &lt;em&gt;usual ones&lt;/em&gt; in four aspects:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;exposes several entry points to a function&lt;/strong&gt;. An entry point is the line of code inside the function where it will take control over the execution.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;can receive a different input&lt;/strong&gt; in every entry point while executing the coroutine.&lt;/li&gt;
  &lt;li&gt;can &lt;strong&gt;return different outputs&lt;/strong&gt; as response to the different entry points.&lt;/li&gt;
  &lt;li&gt;can &lt;strong&gt;save control state&lt;/strong&gt; between entry points calls.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Python implements coroutines starting in &lt;em&gt;Python 2.5&lt;/em&gt; by reusing the generator syntax&lt;/strong&gt;, as defined in &lt;a href=&quot;https://www.python.org/dev/peps/pep-0342/&quot;&gt;PEP 342 - Coroutines via Enhanced Generators&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Generator syntax is defined in &lt;a href=&quot;https://www.python.org/dev/peps/pep-0255/&quot;&gt;PEP 255 - Simple generators&lt;/a&gt;. I covered briefly the generator functionality in a &lt;a href=&quot;/2012/07/16/why-python-rocks/&quot;&gt;previous post&lt;/a&gt;. The basic usage of generators is creating an iterator over a data source. For example, the function in the snippet below returns a generator that iterates from a specific number down to 0, decreasing an unit in every iteration.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;def countdown(n):
    print &amp;quot;Counting down from %s to 0&amp;quot; % n
    i = n
    while i &amp;gt;= 0:
        yield i
        i = i - 1&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&amp;gt;&amp;gt;&amp;gt; for i in countdown(5):
&amp;gt;&amp;gt;&amp;gt;     print i
...
Counting down from 5 to 0
5
4
3
2
1
0&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;In the example above, the keyword &lt;strong&gt;yield&lt;/strong&gt; is used to return a new value in every iteration while &lt;em&gt;consuming&lt;/em&gt; the generator. It’s interesting to note that &lt;em&gt;a generator can be consumed only once&lt;/em&gt;, opposite to a list that can be consumed/iterate as much as needed. A generator is considered &lt;em&gt;exhausted&lt;/em&gt; upon being consumed the first time.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://www.python.org/dev/peps/pep-0342/&quot;&gt;PEP 342&lt;/a&gt;&lt;/strong&gt; takes advantage of the keyword &lt;strong&gt;yield&lt;/strong&gt; for pointing out entry points where the function/coroutine will receive inputs while being executed. Let’s see a very simple example of a coroutine that
concatenates every string inserted by the user from the command line:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;def concatenate(_str):
    &amp;quot;&amp;quot;&amp;quot;
    Coroutine that receives a new string in every
    iteration and concatenates to the original one
    &amp;quot;&amp;quot;&amp;quot;
    temp = None

    while temp != &amp;#39;&amp;#39;:
        # Wait for a new input (suspend the coroutine)...
        temp = yield
        # ... and save control state (resume the execution)
        _str += temp
        print _str

# Instantiate a new coroutine...
a = concatenate(&amp;#39;foo&amp;#39;)

# ... and &amp;quot;move&amp;quot; the coroutine state till the `yield` keyword
a.next()

while True:
    try:
        # Send the raw input from the user to the coroutine...
        a.send(raw_input())
    except StopIteration:
        # ... and capture the coroutine end by means
        # of StopIteration exception
        break&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;What is really interesting is how the coroutine execution is suspended and resumed by means of the
&lt;strong&gt;yield&lt;/strong&gt; keyword, allowing the program flow to be moved from the coroutine to the external program
and back to it.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;python coroutine.py
bar
    foobar
bazz
    foobarbazz

    foobarbazz&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;May you be interested in additional information about this topic, I recommend going through &lt;a href=&quot;http://www.dabeaz.com/&quot;&gt;Daviz Beazley&lt;/a&gt; slides regarding &lt;a href=&quot;http://www.dabeaz.com/generators/Generators.pdf&quot;&gt;generators&lt;/a&gt; and &lt;a href=&quot;http://www.dabeaz.com/coroutines/Coroutines.pdf&quot;&gt;coroutines&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;As a side project I have implemented a tiny library called &lt;strong&gt;&lt;a href=&quot;https://github.com/juandebravo/washington&quot;&gt;washington&lt;/a&gt;&lt;/strong&gt; that exposes a chainable API for building a coroutines stream. I had a lot of fun while digging into the implementation, even though the real usage of the library is expected to be very limited :blush:&lt;/p&gt;

&lt;p&gt;Happy coroutining!!! :bicyclist: :fireworks:&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Don't use YYYY in your date format template</title>
   <link href="http://juandebravo.com/2015/04/10/java-yyyy-date-format"/>
   <updated>2015-04-10T00:00:00+02:00</updated>
   <id>http://juandebravo.com/2015/04/10/java-yyyy-date-format</id>
   <content type="html">&lt;p&gt;&lt;strong&gt;yyyy&lt;/strong&gt; is the pattern string to identify the year in the &lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html&quot;&gt;SimpleDateFormat&lt;/a&gt; class.&lt;/p&gt;

&lt;p&gt;Java 7 introduced &lt;strong&gt;YYYY&lt;/strong&gt; as a new date pattern to identify the &lt;em&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/ISO_week_date&quot;&gt;date week year&lt;/a&gt;&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;An average year is exactly 52.1775 weeks long, which means that eventually a year might have
either 52 or 53 weeks considering indivisible weeks.&lt;/p&gt;

&lt;p&gt;Using &lt;strong&gt;YYYY&lt;/strong&gt; &lt;em&gt;unintendedly&lt;/em&gt; while formatting a date can cause severe issues in your Java application.&lt;/p&gt;

&lt;p&gt;As an example:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;import java.util.Date;
    import java.text.SimpleDateFormat;

    public class DataExample {
        public static void main(String args[]) {
            try {
                String date_s = &amp;quot;2014-12-31&amp;quot;;
                SimpleDateFormat dt = new SimpleDateFormat(&amp;quot;yyyy-MM-dd&amp;quot;);
                Date d = dt.parse(date_s);
                SimpleDateFormat dt1 = new SimpleDateFormat(&amp;quot;YYYY&amp;quot;);
                System.out.println(&amp;quot;And the year is... &amp;quot; + dt1.format(d));
            } catch (Exception e) {
                System.out.println(e);
            }
        }
    }&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The snippet above prints “&lt;em&gt;And the year is… 2015&lt;/em&gt;”, because &lt;a href=&quot;http://www.epochconverter.com/date-and-time/weeknumbers-by-year.php?year=2014&quot;&gt;2015 week year started on 29/12/2014&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This issue seemed to be the root cause of the &lt;a href=&quot;http://tech.firstpost.com/news-analysis/twitter-suffers-massive-outage-on-all-online-platforms-back-now-247196.html&quot;&gt;massive outage that Twitter suffered last year&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;So double check if you really need to use &lt;em&gt;YYYY&lt;/em&gt; while formatting your date, and in case of doubt… &lt;strong&gt;Better call Saul&lt;/strong&gt;!!&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/7404XMzHr-M&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;
&lt;/iframe&gt;
</content>
 </entry>
 
 <entry>
   <title>Hanoi. Toggle functionalities in python</title>
   <link href="http://juandebravo.com/2015/02/15/toggle-func-in-python"/>
   <updated>2015-02-15T00:00:00+01:00</updated>
   <id>http://juandebravo.com/2015/02/15/toggle-func-in-python</id>
   <content type="html">&lt;p&gt;Upon deploying a new version of your product into production,
 it’s usually handy to enable the new functionalities only to
 a subset of users. This allows to measure the impact of your
 code changes in a controlled way:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Does the new functionality have an &lt;em&gt;unexpected impact in
server performance&lt;/em&gt; that was not detected in stress testing lab?&lt;/li&gt;
  &lt;li&gt;Is the new functionality &lt;em&gt;increasing session duration&lt;/em&gt;, global
product usage, &lt;em&gt;customer satisfaction&lt;/em&gt;, etc?&lt;/li&gt;
  &lt;li&gt;Whas is the impact on the client side? Is it creating a
battery drain or any other unexpected issue?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Feature toggling can be handy as well to &lt;em&gt;reduce the impact of
 dependencies among components&lt;/em&gt;. If a new functionality in &lt;em&gt;component A&lt;/em&gt;
 requires a new version of &lt;em&gt;component B&lt;/em&gt;, the new functionality in
 component A can be toggle off till the new B version reaches production,
 then the &lt;strong&gt;deployment pipeline is loosely coupled&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Over my last Christmas holidays I spent some time visiting Vietnam,
 and back then I read about &lt;a href=&quot;https://github.com/FetLife/rollout&quot;&gt;rollout gem&lt;/a&gt;,
 a ruby library that implements feature toggling using Redis as backend.
 &lt;a href=&quot;https://github.com/asenchi/proclaim&quot;&gt;proclaim&lt;/a&gt; python port is kind
 of outdated so I decided to build another python port, that has been
 named as &lt;a href=&quot;https://github.com/juandebravo/hanoi&quot;&gt;hanoi&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Hanoi&lt;/strong&gt; can be used for the following scenarios:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Enable/disable globally a functionality (toggle on/off)&lt;/li&gt;
  &lt;li&gt;Enable a functionality to a percentage of users, increasing
the percentage gradually to ensure server and client behaviour.&lt;/li&gt;
  &lt;li&gt;Enable a functionality to specific users (whitelist users)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Currently three BackEnd are implemented (a memory based backend and
 REDIS backend in two different flavors). My expectation is to
 include additional BackEnds in the future to support additional
 storages, such as &lt;a href=&quot;http://memcached.org/&quot;&gt;memcached&lt;/a&gt;
 and &lt;a href=&quot;http://www.mongodb.org/&quot;&gt;mongoDB&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For additional information about hanoi check the documentation in the &lt;a href=&quot;https://github.com/juandebravo/hanoi#hanoi&quot;&gt;github repository&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Happy deploying! :hammer:&lt;/p&gt;

&lt;p&gt;&lt;img alt=&quot;Hanoi&quot; style=&quot;width: 100%; padding: 0&quot; src=&quot;/gfx/hanoi.jpg&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Validating Arity in JavaScript</title>
   <link href="http://juandebravo.com/2015/01/23/validate-arity"/>
   <updated>2015-01-23T00:00:00+01:00</updated>
   <id>http://juandebravo.com/2015/01/23/validate-arity</id>
   <content type="html">&lt;p&gt;Last week I was discussing with my pals &lt;a href=&quot;http://www.pollinimini.net&quot;&gt;@drslump&lt;/a&gt;
 and &lt;a href=&quot;http://www.ladybenko.net/&quot;&gt;@ladybenko&lt;/a&gt; about a very simple idea I came up
 with while reading &lt;a href=&quot;http://ejohn.org/about/&quot;&gt;John Resig&lt;/a&gt; [Secrets of the JavaScript Ninja]
 (http://ejohn.org/blog/secrets-of-the-javascript-ninja-released/) book on Christmas holidays.&lt;/p&gt;

&lt;p&gt;The idea is very simple: ensure that a function is called with the expected number of parameters.&lt;/p&gt;

&lt;p&gt;A function defined like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;var fullName = function fullName (name, surname) {
    return name + &amp;#39; &amp;#39; + surname;
};&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;could be called with:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;zero parameters&lt;/strong&gt;: &lt;em&gt;name&lt;/em&gt; and &lt;em&gt;surname&lt;/em&gt; will be undefined.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;one parameter&lt;/strong&gt;: the parameter will be assigned to &lt;em&gt;name&lt;/em&gt;, &lt;em&gt;surname&lt;/em&gt; will be undefined.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;two parameters&lt;/strong&gt;: the former parameter will be assigned to &lt;em&gt;name&lt;/em&gt;, the latter to &lt;em&gt;surname&lt;/em&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;three or more parameters&lt;/strong&gt;: the first two parameters will be assigned to &lt;em&gt;name&lt;/em&gt; and &lt;em&gt;surname&lt;/em&gt; respectively, the next ones could be accessed via &lt;code&gt;arguments&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You might want to ensure the function is always called with two parameters, so scenarios like this one won’t happen:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;fullName(&amp;quot;Foo&amp;quot;);
&amp;#39;Foo undefined&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Let’s do the magic by defining a method in the &lt;code&gt;Function prototype&lt;/code&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;Function.prototype.validateArity = function validateArity () {
    var fn = this;
    return function () {
        if (arguments.length === fn.length) {
            return fn.apply(this, arguments);
        } else {
            throw new Error(&amp;quot;Arity was &amp;lt;&amp;quot;+arguments.length+&amp;quot;&amp;gt; but expected &amp;lt;&amp;quot;+fn.length+&amp;quot;&amp;gt;&amp;quot;);
        }
    };
};&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Simply adding to our previous function the following:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;var fullName = function fullName (name, surname) {
    return name + &amp;#39; &amp;#39; + surname;
}.validateArity();

// Correct call
console.log(fullName(&amp;quot;Foo&amp;quot;, &amp;quot;Bar&amp;quot;));
Foo Bar

// Incorrect call
console.log(fullName(&amp;quot;Foo&amp;quot;));
Error: Arity was &amp;lt;1&amp;gt; but expected &amp;lt;2&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;Protip&lt;/strong&gt;: adding a function to &lt;code&gt;Function prototype&lt;/code&gt; is usually NOT a good idea.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Using travis-ci to build this blog</title>
   <link href="http://juandebravo.com/2014/11/22/using-travis-ci-to-build-this-blog"/>
   <updated>2014-11-22T00:00:00+01:00</updated>
   <id>http://juandebravo.com/2014/11/22/using-travis-ci-to-build-this-blog</id>
   <content type="html">&lt;p&gt;This &lt;a href=&quot;/2012/05/31/yet-another-blog-in-the-world/&quot;&gt;blog is built&lt;/a&gt; using Jekyll as static code site generator and GitHub as the deployment target thanks to its support to Jekyll via GitHub pages.&lt;/p&gt;

&lt;p&gt;One of the great things about using GitHub together with Jekyll is the support that GitHub provides out of the box to generate your HTML pages using Jekyll in the server side whenever a new content is added to your repository.&lt;/p&gt;

&lt;p&gt;Some months ago I ran some experiments to include &lt;em&gt;emojis support&lt;/em&gt; to this blog :smile:. Jekyll
supports a plugin mechanism to extend the framework functionality.&lt;/p&gt;

&lt;p&gt;Bad news are that GitHub does not allow third-party plugins to build your Jekyll based web page, like this
one. The reason behind this might be to avoid any kind of attack from a malicious user. Then I needed to either build the site locally and upload the HTML version to GitHub, or get rid of emojies.&lt;/p&gt;

&lt;p&gt;I have been working on local compiling over the last months, but some weeks ago I started playing with &lt;em&gt;&lt;a href=&quot;http://travis-ci.org&quot;&gt;travis&lt;/a&gt;&lt;/em&gt; to remove this boring work from my side. Those are the relevant steps that I did:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Create a new account in Travis&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Configure your GitHub project to support &lt;em&gt;travis&lt;/em&gt;. &lt;a href=&quot;https://developer.github.com/webhooks/#services&quot;&gt;Here&lt;/a&gt; you can find the list of supported services &amp;amp; webhooks (&lt;a href=&quot;https://api.github.com/hooks&quot;&gt;JSON format&lt;/a&gt;).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Install the &lt;em&gt;travis&lt;/em&gt; gem in your local environment&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;gem install travis&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Generate a valid token in the GitHub project settings page.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Hash the token for travis to be able to use it in a secured way (as the value will be included in your repository)&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;travis encrypt -r &amp;lt;USER&amp;gt;/&amp;lt;REPOSITORY&amp;gt; GH_TOKEN=&amp;lt;GH-TOKEN&amp;gt; --add env.global&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://docs.travis-ci.com/&quot;&gt;Configure your build&lt;/a&gt; in the &lt;strong&gt;.travis.yaml&lt;/strong&gt; file at the root of your repository.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;In order to use a GitHub OAuth token, &lt;a href=&quot;https://github.com/juandebravo/juandebravo.github.com/blob/master/.travis.yml#L36&quot;&gt;the configured URL should be the HTTPS one&lt;/a&gt;:&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;git remote set-url origin https://${GH_TOKEN}@github.com/juandebravo/juandebravo.github.com.git&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;Run the command &lt;em&gt;travis-lint&lt;/em&gt; to validate the file syntax.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;&lt;a href=&quot;http://travis-ci.org&quot;&gt;Travis&lt;/a&gt;&lt;/em&gt; is a great piece of software that you can take advantage of very easily!! :bowtie: :neckbeard:&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Registering subclasses in python and ruby</title>
   <link href="http://juandebravo.com/2014/03/12/registering-subclasses-in-python-and-ruby"/>
   <updated>2014-03-12T00:00:00+01:00</updated>
   <id>http://juandebravo.com/2014/03/12/registering-subclasses-in-python-and-ruby</id>
   <content type="html">&lt;p&gt;Some years ago while I was contributing to the awesome Open Source project &lt;a href=&quot;http://adhearsion.com/&quot;&gt;Adhearsion&lt;/a&gt;, we decided to split the logic contained in 1.0 version into different modules that might be loaded by the developer when needed. &lt;a href=&quot;https://github.com/adhearsion/adhearsion/tree/v1.2.5&quot;&gt;Adhearsion 1.0&lt;/a&gt; was tightly coupled with gems like activerecord and activesupport, which were not required for the framework basic functionality and did not provide any real value to most of the Adhearsion applications. Decoupling the logic allowed developers to include only the required dependencies in their applications.&lt;/p&gt;

&lt;p&gt;As result of this exercise, different gems were developed to provide isolated functionalities, like &lt;a href=&quot;https://github.com/adhearsion/adhearsion-activerecord&quot;&gt;adhearsion-activerecord&lt;/a&gt; builds the bridge to use &lt;a href=&quot;https://github.com/rails/rails/tree/master/activerecord&quot;&gt;ActiveRecord&lt;/a&gt; in an Adhearsion application.&lt;/p&gt;

&lt;p&gt;Besides the primary goal of decoupling logic, developers should be able as well to create their own modules to extend the base functionality provided by &lt;a href=&quot;http://adhearsion.com/&quot;&gt;Adhearsion&lt;/a&gt;. Those modules were called &lt;strong&gt;plugins&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;While thinking about how to build this plugin functionality, I dug into different libraries trying to find a clean solution, and &lt;a href=&quot;http://rubyonrails.org/&quot;&gt;Rails&lt;/a&gt; came to the rescue. The developer that is using Rails can define her own plugins to extend the functionality of the framework or modify its initialization. These plugins are called &lt;strong&gt;&lt;a href=&quot;http://api.rubyonrails.org/classes/Rails/Railtie.html&quot;&gt;Railities&lt;/a&gt;&lt;/strong&gt;. Creating a Railtie is really simple:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;inherit from &lt;a href=&quot;http://api.rubyonrails.org/classes/Rails/Railtie.html&quot;&gt;Railitie&lt;/a&gt; class.&lt;/li&gt;
  &lt;li&gt;load your class during the Rails boot process.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;But… how does Rails know that it should execute the code defined in the Railitie subclass while boosting itself? The trick is based on a cool feature from the Ruby language, which defines a hook in the &lt;a href=&quot;http://www.ruby-doc.org/core-2.1.0/Class.html#method-i-inherited&quot;&gt;parent class&lt;/a&gt; that is raised every time the class is inherited. &lt;a href=&quot;https://github.com/rails/rails/blob/master/railties/lib/rails/railtie.rb#L129-L133&quot;&gt;Here&lt;/a&gt; you can see the snippet of code that builds the Railtie magic.&lt;/p&gt;

&lt;p&gt;Eventually, for &lt;a href=&quot;https://github.com/adhearsion/adhearsion/blob/develop/lib/adhearsion/plugin.rb&quot;&gt;Adhearsion plugins&lt;/a&gt; I followed the same rule.&lt;/p&gt;

&lt;p&gt;Find below two snippets of code that registers a list of subclasses in both ruby and python.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;class Plugin

  class &amp;lt;&amp;lt; self

    def inherited(base)
      registry &amp;lt;&amp;lt; base
    end

    def registry
      @registry ||= []
    end

    def each(&amp;amp;block)
      registry.each do |member|
        block.call(member)
      end
    end

  end
end

class Foo &amp;lt; Plugin
end

Bar = Class.new Plugin

puts &amp;quot;Plugin subclasses: &amp;quot; + Plugin.each(&amp;amp;:to_s).join(&amp;#39;, &amp;#39;)&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;class Registry(type):

    def __init__(cls, name, bases, dct):
        if not hasattr(cls, &amp;#39;registry&amp;#39;):
            # Parent class
            cls.registry = []
        else:
            # Child class
            cls.registry.append(cls)
        super(Registry, cls).__init__(name, bases, dct)


class Plugin(object):
    __metaclass__ = Registry


class Foo(Plugin):
    pass

Bar = type(&amp;#39;Bar&amp;#39;, (Plugin,), {})

print &amp;quot;Plugin subclasses: &amp;quot; + &amp;quot;, &amp;quot;.join([item.__name__ for item in Plugin.registry])&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The output of both scripts is:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;Plugin subclasses: Foo, Bar&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Happy coding! :kissing_cat:&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Class and static methods in python</title>
   <link href="http://juandebravo.com/2014/03/08/python-class-and-static-methods"/>
   <updated>2014-03-08T00:00:00+01:00</updated>
   <id>http://juandebravo.com/2014/03/08/python-class-and-static-methods</id>
   <content type="html">&lt;p&gt;Last week we had a nice conversation during a python code review about when class and static methods should be used, or either they should not be used at all.&lt;/p&gt;

&lt;p&gt;Find below my opinions around this topic, feel free to comment and bring some discussion :satisfied:.&lt;/p&gt;

&lt;p&gt;In general, you should think about &lt;strong&gt;moving a class or static method to the module&lt;/strong&gt; that holds the class definition. As you may well know, functions are first class citizens in python:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;class Foo(object):

    VALUES = (&amp;#39;1&amp;#39;, &amp;#39;2&amp;#39;, &amp;#39;3&amp;#39;)

    def __init__(self, bar):
        self.bar = bar

    @staticmethod
    def get_values():
        return VALUES&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This snippet can be refactored to:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;def get_foo_values():
    return Foo.VALUES

class Foo(object):

    VALUES = (&amp;#39;1&amp;#39;, &amp;#39;2&amp;#39;, &amp;#39;3&amp;#39;)

    def __init__(self, bar):
        self.bar = bar&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Some exception that might apply:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;The class provides several staticmethod to validate attributes, retrieve class information, etc. Moving all these methods might fill up the module with too many definitions that are clearly tight to a specific class.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The module holds several classes&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;You want to define an &lt;em&gt;auxiliar method&lt;/em&gt; to create an instance, and you want the childs to be able to override the initialization (think if you should use composition instead of inheritance!):&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;PROPERTIES = {&amp;#39;name&amp;#39;: &amp;#39;john&amp;#39;,
              &amp;#39;surname&amp;#39;: &amp;#39;doe&amp;#39;,
              &amp;#39;age&amp;#39;: 28,
              &amp;#39;email&amp;#39;: &amp;#39;john@pollinimini.net&amp;#39;}


class Foo(object):

    @classmethod
    def from_properties(cls, properties):
        ins = cls()
        for k, v in properties.iteritems():
            ins.k = v
        return ins

    def __str__(self):
        return &amp;#39;, &amp;#39;.join(self.__dict__.keys())


class Bar(Foo):

    @classmethod
    def from_properties(cls, properties):
        ins = super(Bar, cls).from_properties(properties)
        ins.deferred = True
        return ins

print Foo.from_properties(PROPERTIES)
print Bar.from_properties(PROPERTIES)&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The output of the program is:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;age, surname, name, email
deferred, age, surname, name, email&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;Bar&lt;/strong&gt; includes an additional attribute to the instance, but the preliminar instance initilization is similar to what &lt;strong&gt;Foo&lt;/strong&gt; does.&lt;/p&gt;

&lt;p&gt;There are other alternatives to the class method in this case though:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;defining a &lt;strong&gt;factory class&lt;/strong&gt; to return the proper class.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;define a function that receives as parameter a function to be applied while defining the instance:&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;PROPERTIES = {&amp;#39;name&amp;#39;: &amp;#39;john&amp;#39;,
              &amp;#39;surname&amp;#39;: &amp;#39;doe&amp;#39;,
              &amp;#39;age&amp;#39;: 28,
              &amp;#39;email&amp;#39;: &amp;#39;john@pollinimini.net&amp;#39;}


def create_foo_with_function(properties, func=None):
    ins = Foo.from_properties(properties)
    if func:
        func(ins)
    return ins


class Foo(object):

    @classmethod
    def from_properties(cls, properties):
        ins = cls()
        for (k, v) in properties.iteritems():
            ins.__setattr__(k, v)
        return ins

    def __str__(self):
        return &amp;#39;, &amp;#39;.join(self.__dict__.keys())


# Create a Foo instance
print create_foo_with_function(PROPERTIES)

# Create a Bar instance
print create_foo_with_function(PROPERTIES,
                               lambda ins: ins.__setattr__(&amp;#39;deferred&amp;#39;, True))&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Happy coding! :kissing_cat:&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Building an automatic initializer in python</title>
   <link href="http://juandebravo.com/2014/01/04/python-auto-initializer"/>
   <updated>2014-01-04T00:00:00+01:00</updated>
   <id>http://juandebravo.com/2014/01/04/python-auto-initializer</id>
   <content type="html">&lt;p&gt;One of the cool things of Scala is that, in general, you don’t need to write a lot of boilerplate while doing things in the “normal way”.&lt;/p&gt;

&lt;p&gt;As an example, while defining a class which constructor requires one or more arguments, there’s no need to assign the parameters to instance attributes, this is done out of the box by the compiler while creating the Java code:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-scala&quot; data-lang=&quot;scala&quot;&gt;class Foo(val x: String, val y: String)

val value = new Foo(&amp;quot;bar&amp;quot;, &amp;quot;bazz&amp;quot;)
println(value.x)
//&amp;gt; bar&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Python, like many other languages, does not behave that way, therefore you must assign the attributes to instance variables. Someone would argue that this is indeed the pythonic way to work, &lt;a href=&quot;http://www.python.org/dev/peps/pep-0020/&quot;&gt;making things as explicit as possible&lt;/a&gt;. Letting aside that the method &lt;a href=&quot;http://docs.python.org/2/reference/datamodel.html#object.__init__&quot;&gt;__init__&lt;/a&gt; is not a constructor, you can do the assigment with the following snippet of code:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;class Foo(object):

    def __init__(self, x, y):
        self.x = x
        self.y = y

value = Foo(&amp;quot;bar&amp;quot;, &amp;quot;bazz&amp;quot;)
print value.x
// bar&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;It turns out that a high percentage of the time, the only thing you may need to do in your __init__ methods is assigning the parameters to instance variables.  Being a common behavior, it seems to me like a nice chance to build a
&lt;a href=&quot;2012/07/24/why-python-rocks_and_two/&quot;&gt;decorator&lt;/a&gt; :smile_cat:. Here it goes:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;import inspect

def autoinit(fn):
    co_varnames = fn.func_code.co_varnames
    kwa_defaults = inspect.getargspec(fn).defaults

    def _wrap(*args, **kwargs):
        self, nargs = args[0], args[1:]
        names = co_varnames[1:len(nargs)+1]
        kwa_keys = co_varnames[len(nargs)+1:]
        nargs = dict((k, nargs[names.index(k)]) for k in names)
        # Add the keyword arguments
        for k in kwa_keys:
            nargs[k] = kwargs[k] if k in kwargs else kwa_defaults[kwa_keys.index(k)]

        # Set the values to the instance attributes
        for k, v in nargs.iteritems():
            setattr(self, k, v)

        return fn(*args, **kwargs)

    return _wrap&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The function that builds the decorator (autoinit) is doing simple things:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;retrieve the parameter names and the default keyword parameter values&lt;/li&gt;
  &lt;li&gt;build a function, which is the value returned by the function autoinit, which will inspect both args and kwargs while creating a new instance object, retrieve the actual value for every parameter, and assign them to instance attributes.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;An usage example:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;class Foo(object):

    @autoinit
    def __init__(self, x, y, a=10, b=100):
        pass

f = Foo(1, 2, 4)

print f.x, f.y, f.a, f.b
// 1 2 4 100&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</content>
 </entry>
 
 <entry>
   <title>Encoding exercise in python</title>
   <link href="http://juandebravo.com/2013/09/11/encoding-exercise-in-python"/>
   <updated>2013-09-11T00:00:00+02:00</updated>
   <id>http://juandebravo.com/2013/09/11/encoding-exercise-in-python</id>
   <content type="html">&lt;p&gt;Unicode and encodings is always a fun thing. This script encodes an input string using different encodings and shows the output length:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;# -*- coding: utf-8 -*-
import sys
 
if len(sys.argv) &amp;gt; 1:
    code_points = [unicode(c, &amp;#39;utf-8&amp;#39;) for c in sys.argv[1:]]
else:
    # Testing values
    code_points = [u&amp;#39;\U0001F37A\U00000045\U0000039B&amp;#39;, u&amp;#39;\U0001F37A&amp;#39;]
 
def handle_encoding(encoding, code_point):
    try:                                                                        
        values = [&amp;#39;{:&amp;gt;15}&amp;#39;.format(encoding),                                      
                  &amp;#39; ---&amp;gt; &amp;#39;,                                                     
                  &amp;#39;:&amp;#39;.join(&amp;#39;{0:x}&amp;#39;.format(ord(c)) for c in                      
                  code_point.encode(encoding)),                                   
                  &amp;#39; (&amp;#39;, str(len(code_point.encode(encoding))), &amp;#39;)&amp;#39;]               
        print &amp;#39;&amp;#39;.join(values)                                                   
    except Exception as ex:                                                     
        values = [&amp;#39;{:&amp;gt;15}&amp;#39;.format(encoding),                                      
                  &amp;#39; ---&amp;gt; &amp;#39;,                                                     
                  &amp;#39;Unable to encode the codepoint in {0}&amp;#39;.format(encoding)]       
        print &amp;#39;&amp;#39;.join(values)  
 
for code_point in code_points:
    print &amp;#39;{:&amp;gt;15}&amp;#39;.format(&amp;#39;character&amp;#39;) + &amp;#39; ---&amp;gt; &amp;#39; + code_point
    print &amp;#39;{:&amp;gt;15}&amp;#39;.format(&amp;#39;code points&amp;#39;) + &amp;#39; ---&amp;gt; &amp;#39; + repr(code_point)
    for coding in (&amp;#39;ascii&amp;#39;, &amp;#39;latin-1&amp;#39;, &amp;#39;utf-8&amp;#39;, &amp;#39;utf-16&amp;#39;, &amp;#39;utf-16be&amp;#39;, &amp;#39;utf-16le&amp;#39;):
        handle_encoding(coding, code_point)&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;python encoding.py &amp;quot;OLA KE ASE&amp;quot;
      character ---&amp;gt; OLA KE ASE
    code points ---&amp;gt; u&amp;#39;OLA KE ASE&amp;#39;
          ascii ---&amp;gt; 4f:4c:41:20:4b:45:20:41:53:45 (10)
        latin-1 ---&amp;gt; 4f:4c:41:20:4b:45:20:41:53:45 (10)
          utf-8 ---&amp;gt; 4f:4c:41:20:4b:45:20:41:53:45 (10)
         utf-16 ---&amp;gt; ff:fe:4f:0:4c:0:41:0:20:0:4b:0:45:0:20:0:41:0:53:0:45:0 (22)
       utf-16be ---&amp;gt; 0:4f:0:4c:0:41:0:20:0:4b:0:45:0:20:0:41:0:53:0:45 (20)
       utf-16le ---&amp;gt; 4f:0:4c:0:41:0:20:0:4b:0:45:0:20:0:41:0:53:0:45:0 (20)&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Happy encoding :monkey:&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>JavaScript, perform multiple operations in parallel</title>
   <link href="http://juandebravo.com/2013/03/31/javascript-perform-multiple-operations-in-parallel"/>
   <updated>2013-03-31T00:00:00+01:00</updated>
   <id>http://juandebravo.com/2013/03/31/javascript-perform-multiple-operations-in-parallel</id>
   <content type="html">&lt;p&gt;I’ve spent bits of my spare time over the last weeks improving my JavaScript skills. I’ve read &lt;a href=&quot;http://effectivejs.com/&quot;&gt;Effective JavaScript: 68 Specific Ways to Harness the Power of JavaScript&lt;/a&gt;, by &lt;a href=&quot;https://twitter.com/littlecalculist&quot;&gt;David Herman&lt;/a&gt;; I highly recommend this book to any who wants to dig deeper into this language.&lt;/p&gt;

&lt;p&gt;Last Thursday my pal &lt;a href=&quot;https://twitter.com/rafeca&quot;&gt;@rafeca&lt;/a&gt; raised an interesting question: &lt;strong&gt;how could we start two or more asynchronous operations in JavaScript and execute a callback upon all of them are finished, but not before?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;One of the latest chapters of the mentioned book comes up with the answer: store responses in an ordered array and execute the callback when every response has been received (there are no pending operations).&lt;/p&gt;

&lt;p&gt;Let’s see an specific example: &lt;strong&gt;retrieve a set of user profiles from a third party database and print the result in an HTML table only when all of them have been received&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;In the following five steps we’ll figure out how to resolve this:&lt;/p&gt;

&lt;h1 id=&quot;create-the-html-skeleton-to-print-the-user-profiles&quot;&gt;1.- Create the HTML skeleton to print the user profiles&lt;/h1&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&amp;lt;body&amp;gt;
    &amp;lt;table&amp;gt;
        &amp;lt;thead&amp;gt;
            &amp;lt;tr&amp;gt;
              &amp;lt;th class=&amp;quot;name&amp;quot;&amp;gt;Name&amp;lt;/th&amp;gt;
              &amp;lt;th class=&amp;quot;profile&amp;quot;&amp;gt;Profile&amp;lt;/th&amp;gt;
            &amp;lt;/tr&amp;gt;
        &amp;lt;/thead&amp;gt;
        &amp;lt;tbody id=&amp;quot;profiles&amp;quot;&amp;gt;&amp;lt;/tbody&amp;gt;
    &amp;lt;/table&amp;gt;
    &amp;lt;div id=&amp;quot;error&amp;quot;&amp;gt;
    &amp;lt;/div&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;create-a-simple-function-to-retrieve-user-profiles&quot;&gt;2.- Create a simple function to retrieve user profiles&lt;/h1&gt;

&lt;p&gt;For the sake of simplicity, I’ve mocked the profile database using an in-memory dictionary:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;var Profile = function(name, profile) {
    this.name = name;
    this.profile = profile;
};

var ProfileDB = (function() {
    var users = {
        john: new Profile(&amp;quot;john&amp;quot;, &amp;quot;manager&amp;quot;),
        mark: new Profile(&amp;quot;mark&amp;quot;, &amp;quot;developer&amp;quot;),
        thomas: new Profile(&amp;quot;thomas&amp;quot;, &amp;quot;QA&amp;quot;)
    };

    var _getUserProfile = function(user, callback, error) {
            var profile = users[user];
            if(typeof profile === &amp;quot;undefined&amp;quot;) {
                error(&amp;quot;profile &amp;quot; + user + &amp;quot; not found&amp;quot;);
            }
            else {
                if(callback) {
                    // simulate a random delay between 0 and 1 seconds
                    setTimeout(callback.bind(null, profile), 1000 * Math.random());
                }
                else {
                    return users[user];
                }
            }
        };

    return {
        getUserProfile: _getUserProfile
    };

})();&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;create-a-function-to-retrieve-a-set-of-users-profile-and-execute-a-callback-upon-every-profile-retrieval&quot;&gt;3.- Create a function to retrieve a set of users profile and execute a callback upon every profile retrieval&lt;/h1&gt;

&lt;p&gt;In this step we’re building the function that will start in parallel the required operations and execute the relevant callback (success or error in case of any failure):&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;function getUserProfiles(users, onsuccess, onerror) {
    // number of pending operations
    var pending = users.length;
    // store results in this array
    var result = [];
    if (pending === 0) {
        // execute callback if users is empty
        setTimeout(onsuccess.bind(null, result), 0);
    }
    users.forEach(function(user, i) {
        ProfileDB.getUserProfile(user, function(profile) {
            if(result) {
                result[i] = profile;
            }
            pending--;
            if(pending === 0) {
                // every profile has been retrieved, execute callback
                onsuccess(result);
            }
        }, function(error) {
            // execute error callback
            onerror(error);
        });
    });
}&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;create-the-client-to-retrieve-a-list-of-user-profiles&quot;&gt;4.- Create the client to retrieve a list of user profiles&lt;/h1&gt;

&lt;p&gt;Step 4 creates the client that will use the function created in step 3. We need to provide callbacks for both success and error scenearios. Upon success, users profile are printed in the HTML skeleton built in step 1. In case of error, the specific message is shown in the div element:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;var userElement = function(name, profile) {
    var el = document.createElement(&amp;quot;tr&amp;quot;);
    var _name = document.createElement(&amp;quot;td&amp;quot;);
    _name.appendChild(document.createTextNode(name));
    var _profile = document.createElement(&amp;quot;td&amp;quot;);
    _profile.appendChild(document.createTextNode(profile));
    el.appendChild(_name);
    el.appendChild(_profile);
    return el;
};

(function() {
    getUserProfiles([&amp;quot;john&amp;quot;, &amp;quot;mark&amp;quot;, &amp;quot;thomas&amp;quot;], function(profiles) {
        var fragment = document.createDocumentFragment();
        profiles = profiles.forEach(function(profile) {
            fragment.appendChild(userElement(profile.name, profile.profile));
        });
        document.getElementById(&amp;quot;profiles&amp;quot;).appendChild(fragment.cloneNode(true));
    }, function(error) {
        var el = document.getElementById(&amp;quot;error&amp;quot;);
        el.innerHTML= &amp;quot;&amp;quot;;
        el.appendChild(document.createTextNode(error));
    });
})();&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;run-it&quot;&gt;5.- Run it&lt;/h1&gt;

&lt;p&gt;In this case we’re updating the DOM just once, upon retrieving the three users profile. This doesn’t provide a high advantage, but if we’re retrieving hundreds of elements, updating the DOM in any response may reduce significantly our application performance :squirrel:.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>SBT run&#58; choose automatically the App to launch</title>
   <link href="http://juandebravo.com/2012/12/30/sbt-run-select-main-class"/>
   <updated>2012-12-30T00:00:00+01:00</updated>
   <id>http://juandebravo.com/2012/12/30/sbt-run-select-main-class</id>
   <content type="html">&lt;p&gt;I like Christmas because, beside resting from work and having fun with family and friends, usually there is time to learn something new. During this Xmas I’ve been playing with Scala: First, trying to finish the &lt;a href=&quot;https://class.coursera.org/progfun-2012-001/auth/auth_redirector?type=login&amp;amp;subtype=normal&quot;&gt;Coursera Functional Programming Principles course&lt;/a&gt;. Later, working a bit in a personal project. Better late than never :smile&lt;/p&gt;

&lt;p&gt;As for my personal project, it provides more than one &lt;strong&gt;executable entry point&lt;/strong&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;web application exposing a REST API using &lt;a href=&quot;http://www.scalatra.org/&quot;&gt;Scalatra&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;offline script to retrieve data from a third party periodically. This could be easily done with &lt;a href=&quot;http://rake.rubyforge.org/&quot;&gt;Rake&lt;/a&gt; in the Ruby world, and as far as I know there’s not a &lt;a href=&quot;http://code.activestate.com/pypm/search:rake/&quot;&gt;task management tool “de facto standard” in python&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Working with Scala and SBT, the command &lt;strong&gt;sbt run&lt;/strong&gt; looks like the natural alternative. It seeks for every Scala Object in the project that could be used as the assembly entry point:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;an object that defines a main method&lt;/li&gt;
  &lt;li&gt;an object that inherits from App&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If your application has more than one object fitting the previous requirement, the command &lt;em&gt;sbt run&lt;/em&gt; will ask for your help to finish the execution.&lt;/p&gt;

&lt;p&gt;Let’s consider the following snippet of code, having two objects that define a &lt;em&gt;main&lt;/em&gt; method:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-scala&quot; data-lang=&quot;scala&quot;&gt;# File src/main/Foo.scala
object Foo {
    def main(args: Array[String]) = println(&amp;quot;Hello from Foo&amp;quot;)
}

# File src/main/Bar.scala
object Bar extends App{
    println(&amp;quot;Hello from Bar&amp;quot;)
}&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;When you execute the &lt;strong&gt;sbt run&lt;/strong&gt; command, the following text shows up:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&amp;gt; sbt run

Multiple main classes detected, select one to run:

 [1] Bar
 [2] Foo

Enter number: 2
[info] Running Foo
Hello from Foo
[success] Total time: 29 s, completed Dec 30, 2012 11:36:28 PM&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;It requires human action (in the previous example, fill in the number &lt;em&gt;2&lt;/em&gt;), as the &lt;em&gt;run&lt;/em&gt; command does not receive any parameter to automate the process.&lt;/p&gt;

&lt;p&gt;Fortunately, there’s an easy solution using the SBT plugin &lt;a href=&quot;https://github.com/sbt/sbt-start-script&quot;&gt;sbt-start-script&lt;/a&gt; :squirrel:. You just need to follow these three steps:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Create (or update) the file &lt;em&gt;project/plugins.sbt&lt;/em&gt;, including:&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-scala&quot; data-lang=&quot;scala&quot;&gt;addSbtPlugin(&amp;quot;com.typesafe.sbt&amp;quot; % &amp;quot;sbt-start-script&amp;quot; % &amp;quot;0.6.0&amp;quot;)&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;Create (or update) the file &lt;em&gt;build.sbt&lt;/em&gt;, adding:&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-scala&quot; data-lang=&quot;scala&quot;&gt;import com.typesafe.sbt.SbtStartScript
seq(SbtStartScript.startScriptForClassesSettings: _*)&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;Execute:&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sbt update
sbt start-script&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;As result, a new file &lt;strong&gt;target/start&lt;/strong&gt; is created. A file that requires the main class name to be executed as the first argument:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&amp;gt; target/start Foo
Hello from Foo

&amp;gt; target/start Bar
Hello from Bar&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Two last tips:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;In case your program just has a single main class, the script does not require any argument.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Remember to add the automatically generated file &lt;em&gt;target/start&lt;/em&gt; to your CVS&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>About git internals</title>
   <link href="http://juandebravo.com/2012/12/01/git-internals-lecture"/>
   <updated>2012-12-01T00:00:00+01:00</updated>
   <id>http://juandebravo.com/2012/12/01/git-internals-lecture</id>
   <content type="html">&lt;p&gt;Last week, &lt;a href=&quot;https://twitter.com/search?q=%23Devcon1&amp;amp;src=typd&quot;&gt;the first Telefonica Digital Developers Conference&lt;/a&gt; was held in Madrid.
A two day event that gathered the Spain based developer team. 48 hours of lectures and constant knowledge sharing.&lt;/p&gt;

&lt;p&gt;My talk, “git internals”, highlighted how git repository works when storing relevant information.&lt;/p&gt;

&lt;center&gt;
&lt;iframe src=&quot;http://www.slideshare.net/slideshow/embed_code/15439276&quot; width=&quot;427&quot; height=&quot;356&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot; style=&quot;border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px&quot; allowfullscreen=&quot;&quot; webkitallowfullscreen=&quot;&quot; mozallowfullscreen=&quot;&quot;&gt; &lt;/iframe&gt;
&lt;/center&gt;
</content>
 </entry>
 
 <entry>
   <title>Emoji support in jekyll</title>
   <link href="http://juandebravo.com/2012/11/17/emoji-support-in-jekyll"/>
   <updated>2012-11-17T00:00:00+01:00</updated>
   <id>http://juandebravo.com/2012/11/17/emoji-support-in-jekyll</id>
   <content type="html">&lt;p&gt;While writing my &lt;a href=&quot;/2012/10/28/css-changes/&quot;&gt;last post&lt;/a&gt; I seeked for information about how to include plugins in Jekyll. &lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/Plugins&quot;&gt;Jekyll repo wiki&lt;/a&gt; describes how easy is to write and hook specific logic to your Jekyll site.&lt;/p&gt;

&lt;p&gt;Nonetheless, if you are using Github as hosting to deploy your Jekyll site, you cannot use plugins :worried:.&lt;/p&gt;

&lt;h2 id=&quot;include-the-gemoji-dependency-in-your-gemfile&quot;&gt;1. Include the &lt;strong&gt;gemoji&lt;/strong&gt; dependency in your Gemfile&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;gem &amp;#39;gemoji&amp;#39;, :require =&amp;gt; &amp;#39;emoji/railtie&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;add-a-configuration-attribute-in-the-configyml-file&quot;&gt;2. Add a configuration attribute in the &lt;strong&gt;_config.yml&lt;/strong&gt; file&lt;/h2&gt;

&lt;p&gt;This folder will contain the emoji icons.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;emoji:    gfx/emoji&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;write-a-rake-task-into-the-rakefile&quot;&gt;3. Write a rake task into the Rakefile&lt;/h2&gt;

&lt;p&gt;This rake task copies the icons included in the gemoji gem into your Jekyll site folder. It also generates a CSS file.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;desc &amp;#39;Generate emoji CSS styles&amp;#39;
task :emoji do
  puts green &amp;#39;Generating emoji CSS...&amp;#39;

  require &amp;#39;jekyll&amp;#39;

  site = Jekyll::Site.new(Jekyll.configuration({}))

  path = site.config[&amp;#39;emoji&amp;#39;]

  if !path.empty? and !File.exists?(&amp;quot;#{path}&amp;quot;) and !File.exists?(&amp;quot;#{path}/smiley.png&amp;quot;)
    Dir::mkdir path

    _css = %[.emoji {
  width: 20px;
  display: inline-block;
  text-indent: -2000px;
}

]

    Dir[&amp;quot;#{Emoji.images_path}/emoji/*.png&amp;quot;].each do |src|
      FileUtils.cp src, path
      *_, file = src.split(&amp;quot;/&amp;quot;)
      *emoji_name, _ = file.split(&amp;quot;.&amp;quot;)
      _css += %[.emoji_#{emoji_name.join(&amp;quot;.&amp;quot;)} {
  background:url(&amp;quot;/#{path}/#{file}&amp;quot;) no-repeat scroll 0 center transparent;
  background-size: 20px auto;
}

]
    end

    File.open &amp;quot;css/emoji.css&amp;quot;, &amp;#39;w+&amp;#39; do |file|
      file.write _css
    end
  end
  puts green &amp;#39;Done!&amp;#39;
end&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;execute-the-rake-task&quot;&gt;4. Execute the rake task&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;rake emoji&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Now you can check the generated CSS file that defines a specific style per emoji icon and the &lt;strong&gt;png&lt;/strong&gt; files (the emoji icons) copied into the configured folder.&lt;/p&gt;

&lt;h2 id=&quot;include-the-generated-css-file-into-html-layouts&quot;&gt;5. Include the generated CSS file into HTML layouts&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&amp;lt;link rel=&amp;quot;stylesheet&amp;quot; href=&amp;quot;/css/style.css&amp;quot;&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;write-a-plugin-that-converts-the-emoji-tags-in-html-tags&quot;&gt;6. Write a plugin that converts the emoji tags in HTML tags&lt;/h2&gt;

&lt;p&gt;Copy this content into the file &lt;strong&gt;_plugins/emoji.rb&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;require &amp;quot;gemoji&amp;quot;

module Jekyll
  module EmojiFilter

    def emojify(content)
      if @context.registers[:site].config[&amp;#39;emoji&amp;#39;]
        content.to_str.gsub(/:([a-z0-9\+\-_]+):/) do |match|
          if Emoji.names.include?($1)
            &amp;quot;&amp;lt;span class=&amp;#39;emoji emoji_#{$1}&amp;#39;&amp;gt;#{$1} emoji&amp;lt;/span&amp;gt;&amp;quot;
          else
            match
          end
        end
      else
        content
      end
    end # emojify

  end # EmojiFilter
end # Jekyll

Liquid::Template.register_filter(Jekyll::EmojiFilter)&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;emojify-your-content&quot;&gt;7. Emojify your content!&lt;/h2&gt;

&lt;p&gt;Concat the filter &lt;strong&gt;emojify&lt;/strong&gt; in the layouts where you want to include emojies.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&amp;lt;div id=&amp;quot;post&amp;quot; role=&amp;quot;main&amp;quot;&amp;gt;
  &amp;lt;header&amp;gt;
  &amp;lt;h2&amp;gt;&amp;lt;a class=&amp;quot;fadedlink&amp;quot; href=&amp;quot;/&amp;quot; title=&amp;quot;Home&amp;quot;&amp;gt;&amp;amp;laquo;&amp;lt;/a&amp;gt; CSS changes &amp;lt;small&amp;gt;28 Oct 2012&amp;lt;/small&amp;gt;&amp;lt;/h2&amp;gt;

  &amp;lt;nav&amp;gt;
    &amp;lt;ul class=&amp;quot;clearfix&amp;quot;&amp;gt;
    
      &amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;/tag/css.html&amp;quot;&amp;gt;css&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
    
    &amp;lt;/ul&amp;gt;
  &amp;lt;/nav&amp;gt;
&amp;lt;/header&amp;gt;

&amp;lt;div id=&amp;quot;post&amp;quot; role=&amp;quot;main&amp;quot;&amp;gt;
  &amp;lt;p&amp;gt;Today I’ve been changing a bit the CSS that creates the layout of this site. Almost the whole style was defined by my pal &amp;lt;a href=&amp;quot;http://www.twitter.com/rafeca&amp;quot;&amp;gt;@rafeca&amp;lt;/a&amp;gt; while creating &amp;lt;a href=&amp;quot;http://www.rafeca.com&amp;quot;&amp;gt;his blog&amp;lt;/a&amp;gt;. I have borrowed it :smile:.&amp;lt;/p&amp;gt;

&amp;lt;p&amp;gt;Although I am not an expert on CSS, I like hacking a bit of this :squirrel:.&amp;lt;/p&amp;gt;

&amp;lt;p&amp;gt;I summarize the changes in the following sections.&amp;lt;/p&amp;gt;

&amp;lt;h2 id=&amp;quot;bottom-links-showing-a---character&amp;quot;&amp;gt;Bottom links showing a “-“ character&amp;lt;/h2&amp;gt;

&amp;lt;p&amp;gt;I think this is a common issue in a lot of sites: when you define a link containing an image, it may appear an annoying hyphen character on the right side of the image when the cursor is hover it. It’s been happening in this blog on the footer links.&amp;lt;/p&amp;gt;

&amp;lt;p&amp;gt;To change this behavior, remove the &amp;lt;strong&amp;gt;img&amp;lt;/strong&amp;gt; element and define the image as background, ensuring the text inside the &amp;lt;strong&amp;gt;a&amp;lt;/strong&amp;gt; element is indented outside the screen, far away from the visible divs.&amp;lt;/p&amp;gt;

&amp;lt;figure class=&amp;quot;highlight&amp;quot;&amp;gt;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-html&amp;quot; data-lang=&amp;quot;html&amp;quot;&amp;gt;&amp;amp;lt;footer&amp;amp;gt;
      &amp;amp;lt;!-- Before --&amp;amp;gt;
      &amp;amp;lt;a class=&amp;amp;quot;fadedlink&amp;amp;quot; href=&amp;amp;quot;https://github.com/juandebravo&amp;amp;quot;&amp;amp;gt;
        &amp;amp;lt;img src=&amp;amp;quot;/gfx/github-logo.png&amp;amp;quot; alt=&amp;amp;quot;@github&amp;amp;quot;&amp;amp;gt;
      &amp;amp;lt;/a&amp;amp;gt;
      &amp;amp;lt;!-- Now --&amp;amp;gt;
      &amp;amp;lt;a class=&amp;amp;quot;fadedlink footer_link github&amp;amp;quot; href=&amp;amp;quot;https://github.com/juandebravo&amp;amp;quot;&amp;amp;gt;
        @github
      &amp;amp;lt;/a&amp;amp;gt;
    &amp;amp;lt;/footer&amp;amp;gt;&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/figure&amp;gt;

&amp;lt;figure class=&amp;quot;highlight&amp;quot;&amp;gt;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-css&amp;quot; data-lang=&amp;quot;css&amp;quot;&amp;gt;.footer_link {
  width: 25px;
  display: inline-block;
  text-indent: -1000px;
}

.github {
  background: url(&amp;amp;quot;/gfx/github-logo.png&amp;amp;quot;) no-repeat scroll 0 transparent;
}&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/figure&amp;gt;

&amp;lt;h2 id=&amp;quot;increase-body-font-size&amp;quot;&amp;gt;Increase body font size&amp;lt;/h2&amp;gt;
&amp;lt;p&amp;gt;This one is the easiest :sweat_smile:.&amp;lt;/p&amp;gt;

&amp;lt;figure class=&amp;quot;highlight&amp;quot;&amp;gt;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-css&amp;quot; data-lang=&amp;quot;css&amp;quot;&amp;gt;body {
  margin: 0;
  line-height: 1.4;
  /* Before */
  font-size: 16px;
  /* Now */
  font-size: 18px;
}&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/figure&amp;gt;

&amp;lt;h2 id=&amp;quot;list-style-type&amp;quot;&amp;gt;List style type&amp;lt;/h2&amp;gt;

&amp;lt;p&amp;gt;In both the &amp;lt;a href=&amp;quot;/index.html&amp;quot;&amp;gt;main&amp;lt;/a&amp;gt; and the &amp;lt;a href=&amp;quot;/open_source.html&amp;quot;&amp;gt;open source&amp;lt;/a&amp;gt; pages, while defining &amp;lt;strong&amp;gt;li&amp;lt;/strong&amp;gt; elements the default circle character was being used. I’ve changed the CSS to support an Unicode code point using the &amp;lt;strong&amp;gt;:before&amp;lt;/strong&amp;gt; clause.&amp;lt;/p&amp;gt;

&amp;lt;figure class=&amp;quot;highlight&amp;quot;&amp;gt;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-css&amp;quot; data-lang=&amp;quot;css&amp;quot;&amp;gt;.container ul.posts {
	/* Do not use list decoration */
    list-style: none;
}

.container ul.posts li:before {
	/* Add a before content */
	content: &amp;amp;quot;\0445&amp;amp;quot;;
}&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/figure&amp;gt;

&amp;lt;h2 id=&amp;quot;predefined-width-on-the-left-side-while-indexing-stuff&amp;quot;&amp;gt;Predefined width on the left side while indexing stuff&amp;lt;/h2&amp;gt;

&amp;lt;p&amp;gt;The &amp;lt;a href=&amp;quot;/index.html&amp;quot;&amp;gt;main&amp;lt;/a&amp;gt; page shows a the list of posts titles and their posting date. The content was not aligned:&amp;lt;/p&amp;gt;

&amp;lt;p&amp;gt;Before:&amp;lt;/p&amp;gt;

&amp;lt;li class=&amp;quot;post&amp;quot; style=&amp;quot;list-style-type:none; padding-left: 30px&amp;quot;&amp;gt;
  &amp;lt;span&amp;gt;05 Aug 2012&amp;lt;/span&amp;gt;
  &amp;lt;a title=&amp;quot;Ensuring Array as object type&amp;quot; href=&amp;quot;/2012/08/05/ensuring-array-as-object-type&amp;quot;&amp;gt;Ensuring Array as object type&amp;lt;/a&amp;gt;
&amp;lt;/li&amp;gt;
&amp;lt;li class=&amp;quot;post&amp;quot; style=&amp;quot;list-style-type:none; padding-left: 30px&amp;quot;&amp;gt;
  &amp;lt;span&amp;gt;24 Jul 2012&amp;lt;/span&amp;gt;
  &amp;lt;a title=&amp;quot;Things I like using python (part II)&amp;quot; href=&amp;quot;/2012/07/24/why-python-rocks_and_two&amp;quot;&amp;gt;Things I like using python (part II)&amp;lt;/a&amp;gt;
&amp;lt;/li&amp;gt;

&amp;lt;p&amp;gt;After:&amp;lt;/p&amp;gt;
&amp;lt;li class=&amp;quot;post&amp;quot; style=&amp;quot;list-style-type:none; padding-left: 30px&amp;quot;&amp;gt;
  &amp;lt;span class=&amp;quot;left_title&amp;quot;&amp;gt;05 Aug 2012&amp;lt;/span&amp;gt;
  &amp;lt;a title=&amp;quot;Ensuring Array as object type&amp;quot; href=&amp;quot;/2012/08/05/ensuring-array-as-object-type&amp;quot;&amp;gt;Ensuring Array as object type&amp;lt;/a&amp;gt;
&amp;lt;/li&amp;gt;
&amp;lt;li class=&amp;quot;post&amp;quot; style=&amp;quot;list-style-type:none; padding-left: 30px&amp;quot;&amp;gt;
  &amp;lt;span class=&amp;quot;left_title&amp;quot;&amp;gt;24 Jul 2012&amp;lt;/span&amp;gt;
  &amp;lt;a title=&amp;quot;Things I like using python (part II)&amp;quot; href=&amp;quot;/2012/07/24/why-python-rocks_and_two&amp;quot;&amp;gt;Things I like using python (part II)&amp;lt;/a&amp;gt;
&amp;lt;/li&amp;gt;

&amp;lt;figure class=&amp;quot;highlight&amp;quot;&amp;gt;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-css&amp;quot; data-lang=&amp;quot;css&amp;quot;&amp;gt;.left_title {
  display: inline-block;
  min-width: 110px;
}&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/figure&amp;gt;



  &amp;lt;p class=&amp;quot;back&amp;quot;&amp;gt;&amp;amp;laquo; &amp;lt;a href=&amp;quot;/&amp;quot;&amp;gt;Home&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;
&amp;lt;/div&amp;gt;

&amp;lt;!--h2&amp;gt;Related Posts&amp;lt;/h2&amp;gt;
&amp;lt;ul class=&amp;quot;posts_list&amp;quot;&amp;gt;
  
    &amp;lt;li class=&amp;quot;post&amp;quot;&amp;gt;
  &amp;lt;span class=&amp;quot;left_title&amp;quot;&amp;gt;22 Jan 2017&amp;lt;/span&amp;gt;
  &amp;lt;a href=&amp;quot;/2017/01/22/docker-insecure-registry&amp;quot; title=&amp;quot;Docker and how to get access to insecure registries&amp;quot;&amp;gt;Docker and how to get access to insecure registries&amp;lt;/a&amp;gt;
&amp;lt;/li&amp;gt;
  
    &amp;lt;li class=&amp;quot;post&amp;quot;&amp;gt;
  &amp;lt;span class=&amp;quot;left_title&amp;quot;&amp;gt;23 Nov 2015&amp;lt;/span&amp;gt;
  &amp;lt;a href=&amp;quot;/2015/11/23/webrtc-adapter-vagrant-box&amp;quot; title=&amp;quot;A virtual machine for WebRTC development&amp;quot;&amp;gt;A virtual machine for WebRTC development&amp;lt;/a&amp;gt;
&amp;lt;/li&amp;gt;
  
    &amp;lt;li class=&amp;quot;post&amp;quot;&amp;gt;
  &amp;lt;span class=&amp;quot;left_title&amp;quot;&amp;gt;06 Jul 2015&amp;lt;/span&amp;gt;
  &amp;lt;a href=&amp;quot;/2015/07/06/demystifying-coroutines-in-python&amp;quot; title=&amp;quot;Demystifying coroutines in python&amp;quot;&amp;gt;Demystifying coroutines in python&amp;lt;/a&amp;gt;
&amp;lt;/li&amp;gt;
  
&amp;lt;/ul--&amp;gt;

&amp;lt;hr/&amp;gt;

&amp;lt;h2&amp;gt;Comments&amp;lt;/h2&amp;gt;
&amp;lt;div id=&amp;quot;disqus_thread&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = &amp;#39;juandebravo&amp;#39;; // required: replace example with your forum shortname
    //var disqus_developer = 1; // developer mode is on, for testing locally

    /* * * DON&amp;#39;T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement(&amp;#39;script&amp;#39;); dsq.type = &amp;#39;text/javascript&amp;#39;; dsq.async = true;
        dsq.src = &amp;#39;http://&amp;#39; + disqus_shortname + &amp;#39;.disqus.com/embed.js&amp;#39;;
        (document.getElementsByTagName(&amp;#39;head&amp;#39;)[0] || document.getElementsByTagName(&amp;#39;body&amp;#39;)[0]).appendChild(dsq);
    })();
&amp;lt;/script&amp;gt;
&amp;lt;noscript&amp;gt;Please enable JavaScript to view the &amp;lt;a href=&amp;quot;http://disqus.com/?ref_noscript&amp;quot;&amp;gt;comments powered by Disqus.&amp;lt;/a&amp;gt;&amp;lt;/noscript&amp;gt;

  
  &amp;lt;p class=&amp;quot;back&amp;quot;&amp;gt;&amp;amp;laquo; &amp;lt;a href=&amp;quot;/&amp;quot;&amp;gt;Home&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;
&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;write-an-emoji-in-a-markdown-file-and-run-the-server&quot;&gt;8. Write an emoji in a markdown file and run the server&lt;/h2&gt;

&lt;p&gt;For instance to include a smile, write &lt;strong&gt;:smile:&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;run-jekyll&quot;&gt;9. Run jekyll&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;jekyll --server --auto&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;enjoy&quot;&gt;10. Enjoy&lt;/h2&gt;

&lt;p&gt;:neckbeard: :squirrel: :bug: :monkey: :scream: :hankey: :smile:&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>CSS changes</title>
   <link href="http://juandebravo.com/2012/10/28/css-changes"/>
   <updated>2012-10-28T00:00:00+02:00</updated>
   <id>http://juandebravo.com/2012/10/28/css-changes</id>
   <content type="html">&lt;p&gt;Today I’ve been changing a bit the CSS that creates the layout of this site. Almost the whole style was defined by my pal &lt;a href=&quot;http://www.twitter.com/rafeca&quot;&gt;@rafeca&lt;/a&gt; while creating &lt;a href=&quot;http://www.rafeca.com&quot;&gt;his blog&lt;/a&gt;. I have borrowed it :smile:.&lt;/p&gt;

&lt;p&gt;Although I am not an expert on CSS, I like hacking a bit of this :squirrel:.&lt;/p&gt;

&lt;p&gt;I summarize the changes in the following sections.&lt;/p&gt;

&lt;h2 id=&quot;bottom-links-showing-a---character&quot;&gt;Bottom links showing a “-“ character&lt;/h2&gt;

&lt;p&gt;I think this is a common issue in a lot of sites: when you define a link containing an image, it may appear an annoying hyphen character on the right side of the image when the cursor is hover it. It’s been happening in this blog on the footer links.&lt;/p&gt;

&lt;p&gt;To change this behavior, remove the &lt;strong&gt;img&lt;/strong&gt; element and define the image as background, ensuring the text inside the &lt;strong&gt;a&lt;/strong&gt; element is indented outside the screen, far away from the visible divs.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&amp;lt;footer&amp;gt;
      &amp;lt;!-- Before --&amp;gt;
      &amp;lt;a class=&amp;quot;fadedlink&amp;quot; href=&amp;quot;https://github.com/juandebravo&amp;quot;&amp;gt;
        &amp;lt;img src=&amp;quot;/gfx/github-logo.png&amp;quot; alt=&amp;quot;@github&amp;quot;&amp;gt;
      &amp;lt;/a&amp;gt;
      &amp;lt;!-- Now --&amp;gt;
      &amp;lt;a class=&amp;quot;fadedlink footer_link github&amp;quot; href=&amp;quot;https://github.com/juandebravo&amp;quot;&amp;gt;
        @github
      &amp;lt;/a&amp;gt;
    &amp;lt;/footer&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-css&quot; data-lang=&quot;css&quot;&gt;.footer_link {
  width: 25px;
  display: inline-block;
  text-indent: -1000px;
}

.github {
  background: url(&amp;quot;/gfx/github-logo.png&amp;quot;) no-repeat scroll 0 transparent;
}&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;increase-body-font-size&quot;&gt;Increase body font size&lt;/h2&gt;
&lt;p&gt;This one is the easiest :sweat_smile:.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-css&quot; data-lang=&quot;css&quot;&gt;body {
  margin: 0;
  line-height: 1.4;
  /* Before */
  font-size: 16px;
  /* Now */
  font-size: 18px;
}&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;list-style-type&quot;&gt;List style type&lt;/h2&gt;

&lt;p&gt;In both the &lt;a href=&quot;/index.html&quot;&gt;main&lt;/a&gt; and the &lt;a href=&quot;/open_source.html&quot;&gt;open source&lt;/a&gt; pages, while defining &lt;strong&gt;li&lt;/strong&gt; elements the default circle character was being used. I’ve changed the CSS to support an Unicode code point using the &lt;strong&gt;:before&lt;/strong&gt; clause.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-css&quot; data-lang=&quot;css&quot;&gt;.container ul.posts {
	/* Do not use list decoration */
    list-style: none;
}

.container ul.posts li:before {
	/* Add a before content */
	content: &amp;quot;\0445&amp;quot;;
}&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;predefined-width-on-the-left-side-while-indexing-stuff&quot;&gt;Predefined width on the left side while indexing stuff&lt;/h2&gt;

&lt;p&gt;The &lt;a href=&quot;/index.html&quot;&gt;main&lt;/a&gt; page shows a the list of posts titles and their posting date. The content was not aligned:&lt;/p&gt;

&lt;p&gt;Before:&lt;/p&gt;

&lt;li class=&quot;post&quot; style=&quot;list-style-type:none; padding-left: 30px&quot;&gt;
  &lt;span&gt;05 Aug 2012&lt;/span&gt;
  &lt;a title=&quot;Ensuring Array as object type&quot; href=&quot;/2012/08/05/ensuring-array-as-object-type&quot;&gt;Ensuring Array as object type&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;post&quot; style=&quot;list-style-type:none; padding-left: 30px&quot;&gt;
  &lt;span&gt;24 Jul 2012&lt;/span&gt;
  &lt;a title=&quot;Things I like using python (part II)&quot; href=&quot;/2012/07/24/why-python-rocks_and_two&quot;&gt;Things I like using python (part II)&lt;/a&gt;
&lt;/li&gt;

&lt;p&gt;After:&lt;/p&gt;
&lt;li class=&quot;post&quot; style=&quot;list-style-type:none; padding-left: 30px&quot;&gt;
  &lt;span class=&quot;left_title&quot;&gt;05 Aug 2012&lt;/span&gt;
  &lt;a title=&quot;Ensuring Array as object type&quot; href=&quot;/2012/08/05/ensuring-array-as-object-type&quot;&gt;Ensuring Array as object type&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;post&quot; style=&quot;list-style-type:none; padding-left: 30px&quot;&gt;
  &lt;span class=&quot;left_title&quot;&gt;24 Jul 2012&lt;/span&gt;
  &lt;a title=&quot;Things I like using python (part II)&quot; href=&quot;/2012/07/24/why-python-rocks_and_two&quot;&gt;Things I like using python (part II)&lt;/a&gt;
&lt;/li&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-css&quot; data-lang=&quot;css&quot;&gt;.left_title {
  display: inline-block;
  min-width: 110px;
}&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</content>
 </entry>
 
 <entry>
   <title>How to paste code in keynote</title>
   <link href="http://juandebravo.com/2012/10/21/how-to-paste-code-in-keynote"/>
   <updated>2012-10-21T00:00:00+02:00</updated>
   <id>http://juandebravo.com/2012/10/21/how-to-paste-code-in-keynote</id>
   <content type="html">&lt;p&gt;I use &lt;strong&gt;Twitter favourites&lt;/strong&gt; feature to mark as &lt;strong&gt;read it later&lt;/strong&gt; tweets that contain a link that seems interesting. 
Eventually I tidy up my long list of unread interesting stuff and today I found out about the following item.&lt;/p&gt;

&lt;p&gt;There was &lt;a href=&quot;https://twitter.com/spastorino/status/250708430036295681&quot;&gt;this tweet&lt;/a&gt; from &lt;a href=&quot;https://twitter.com/spastorino/&quot;&gt;Santiago Pastorino&lt;/a&gt; about how to include highlighted code into a Keynote.app presentation:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;# Copy the text to the pasteboard from your editor

# &amp;lt;language&amp;gt; should be a programming language supported by pygmentize.

pbpaste | pygmentize -l &amp;lt;language&amp;gt; -f rtf | pbcopy

# Paste the pasteboard content into Keynote.app&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;As simple as that. Keynote.app recognizes automatically the RTF format and therefore the code is highlighted as defined by pygmentize. Awesome tip!&lt;/p&gt;

&lt;p&gt;Two last comments:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;if you try to do this using &lt;strong&gt;Microsoft PowerPoint&lt;/strong&gt; for OS X, remember to choose “Special paste”. PowerPoint does not recognize automatically the RTF format, which by the way was developed by Microsoft. Great engineering work (the &lt;a href=&quot;RTF definition&quot;&gt;http://en.wikipedia.org/wiki/Rich_Text_Format&lt;/a&gt; with a really poor user experience (“special paste” sucks).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;if you are creating a code oriented lecture, my recommendation is you give a try to &lt;a href=&quot;https://github.com/fxn/tkn&quot;&gt;Terminal Keynote&lt;/a&gt;. I’ve used it once with great results.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>First steps with Scala</title>
   <link href="http://juandebravo.com/2012/09/26/first-steps-with-scala"/>
   <updated>2012-09-26T00:00:00+02:00</updated>
   <id>http://juandebravo.com/2012/09/26/first-steps-with-scala</id>
   <content type="html">&lt;p&gt;Last week I started a &lt;a href=&quot;https://www.coursera.org&quot;&gt;Coursera&lt;/a&gt; online training course about Functional programming using Scala. The course is leaded by &lt;a href=&quot;http://en.wikipedia.org/wiki/Martin_Odersky&quot;&gt;Martin Odersky&lt;/a&gt;, the creator of Scala language program, so it’s a great chance to improve my little knowledge of funcional programming in general and Scala in particular.&lt;/p&gt;

&lt;p&gt;When you start working with a new language, first thing you should do is find out the right tools that will make you feel comfortable while spending several hours learning and writing code.&lt;/p&gt;

&lt;p&gt;I’ll summarize the steps I followed on my computer (running Mac OS X).&lt;/p&gt;

&lt;h1 id=&quot;install-the-interpreter&quot;&gt;1. Install the interpreter&lt;/h1&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;brew install scala&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;install-sbt-the-build-tool&quot;&gt;2. Install SBT, the build tool&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/harrah/xsbt/wiki&quot;&gt;SBT&lt;/a&gt; is for Scala what Maven is for Java. I haven’t used it in depth yet, but hopefully it’ll suck less than Maven.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;brew install sbt&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;write-your-first-scala-code-using-the-scala-repl&quot;&gt;3. Write your first Scala code using the Scala REPL&lt;/h1&gt;
&lt;p&gt;Scala provides a built-in interpreter (Read-Evaluate-Print Loop) to write and run Scala code very easily.&lt;/p&gt;

&lt;p&gt;You can run the Scala &lt;strong&gt;REPL&lt;/strong&gt; either using sbt or &lt;strong&gt;scala&lt;/strong&gt; command:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;# Using SBT
juandebravo [~/bin] λ sbt console
scala&amp;gt;
scala&amp;gt; println(&amp;quot;Hello world&amp;quot;)
Hello world
# Using scala
juandebravo [~/bin] λ scala
scala&amp;gt;
scala&amp;gt; println(&amp;quot;Hello world&amp;quot;)
Hello world&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;configure-your-ide-of-choice-sublime-text-2&quot;&gt;4. Configure your IDE of choice. Sublime Text 2&lt;/h1&gt;
&lt;p&gt;My coworker &lt;a href=&quot;http://www.tonicebrian.com&quot;&gt;Toni Cebrian&lt;/a&gt; wrote a &lt;a href=&quot;http://www.tonicebrian.com/2011/05/16/comparison-of-ides-for-scala-development/&quot;&gt;post comparing IDEs&lt;/a&gt; to write Scala code. I’ll not repeat his text but write a bit about my personal choice: &lt;a href=&quot;http://www.sublimetext.com/2&quot;&gt;SublimeText2&lt;/a&gt;. I started using Sublime Text 2 one year and a half ago coding ruby, I stayed on that when I switched to python, and I’ll give it a try for Scala too. I starred some time ago &lt;a href=&quot;https://twitter.com/alexey_r/status/185839109049303044&quot;&gt;this tweet&lt;/a&gt; about &lt;a href=&quot;http://blog.hugeaim.com/2012/03/22/use-sublime-text-2-for-scala-development/&quot;&gt;how to use Sublime Text 2 for Scala development&lt;/a&gt;, and eventually I read it :-)&lt;/p&gt;

&lt;p&gt;It seems that the best option is to install the plugin &lt;a href=&quot;https://github.com/sublimescala/sublime-ensime&quot;&gt;sublime-ensime&lt;/a&gt;. It was a good surprise to find out that my pal &lt;a href=&quot;http://www.twitter.com/casualjim&quot;&gt;@casualjim&lt;/a&gt; is the original author of this plugin. &lt;a href=&quot;https://github.com/sublimescala/sublime-ensime&quot;&gt;Sublime-ensime&lt;/a&gt; is a plugin that provides integration between Scala and &lt;a href=&quot;http://aemoncannon.github.com/ensime/index.html&quot;&gt;ENSIME&lt;/a&gt;, the ENhanced Scala Interaction Mode for Emacs.
Follow the instructions in the &lt;a href=&quot;https://github.com/sublimescala/sublime-ensime&quot;&gt;sublime-ensime github main page&lt;/a&gt; to make it work.&lt;/p&gt;

&lt;p&gt;Some months ago I created project showing some cool Scala features, check it out in my &lt;a href=&quot;https://github.com/juandebravo/scala-examples&quot;&gt;github repository&lt;/a&gt;. To run it using Sublime Text 2, create a new Build system with the following configuration:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;{
	&amp;quot;cmd&amp;quot;: [&amp;quot;sbt&amp;quot;, &amp;quot;test&amp;quot;],
	&amp;quot;selector&amp;quot;: &amp;quot;source.scala&amp;quot;,
	&amp;quot;working_dir&amp;quot;: &amp;quot;${project_path}&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</content>
 </entry>
 
 <entry>
   <title>Dynamic loading</title>
   <link href="http://juandebravo.com/2012/09/16/dynamic-loading"/>
   <updated>2012-09-16T00:00:00+02:00</updated>
   <id>http://juandebravo.com/2012/09/16/dynamic-loading</id>
   <content type="html">&lt;p&gt;&lt;img src=&quot;/gfx/posts/dynamic-loading/most-interesing-man.png&quot; alt=&quot;Dynamic loading&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In the project I am working right now, we are reusing a Django project to develop two different products, productA and productB :-). These products frequently require the same service layer and the code can be directly reused, but in some scenarios different code is required.&lt;/p&gt;

&lt;p&gt;Django project reusage gives us some advantages. Here I highlight some of them:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;authentication&lt;/li&gt;
  &lt;li&gt;authorization&lt;/li&gt;
  &lt;li&gt;logging&lt;/li&gt;
  &lt;li&gt;URL routes&lt;/li&gt;
  &lt;li&gt;testing strategy&lt;/li&gt;
  &lt;li&gt;security tests&lt;/li&gt;
  &lt;li&gt;third party integrations&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Our current solution to run different logic in both products, instead of using project configuration, is &lt;strong&gt;dynamic loading&lt;/strong&gt;. To implement it, we have defined our own code structure respecting Django default structure:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;- django_project_root
  - django_app_1
    - __init__.py
    - services.py
    - projectA
       - __init__.py
       - services.py
    - projectB
       - __init__.py
       - sevices.py
  - django_app_2
    - __init__.py
    - services.py
    - projectB
      - __init__.py
      - services.py&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;If the Django application is running as projectA, the service logic being used is:
- for django_app_1 application, the module django_app_1.projectA.services
- for django_app_2 application, the module django_app_2.services (as django_app_2.projectA.services module is not created).&lt;/p&gt;

&lt;p&gt;ProjectB has defined specific logic in both Django applications, and therefore no generic one is used.&lt;/p&gt;

&lt;p&gt;Find underneath the snippet of code (simplified) we’re using to know which module must be loaded:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;def get_module(application_name, project, module):
    try:
        module_name = application_name + &amp;#39;.&amp;#39; + project + &amp;#39;.&amp;#39; + module
        return __import__(module_name)
    except ImportError as ex:
        logger.warn(&amp;quot;Unable to import module: {0} -&amp;gt; {1}&amp;quot;.format(module_name, ex))
        return __import__(application_name + &amp;#39;.&amp;#39; + module)

# Example

get_module(&amp;#39;django_app_1&amp;#39;, &amp;#39;projectA&amp;#39;, &amp;#39;services&amp;#39;)&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Pretty simple. I’m trying to load a module, and if it fails, I’m logging a warning.
Sometimes the warning is the expected behavior (i.e. projectA does not define its own django_app_2 service logic), but it could also happen that an exception is raised while parsing a module code, and therefore the module cannot be imported (i.e. projectB django_app_2 service logic has a syntax error). Not logging this situation will hide possible undesired errors.&lt;/p&gt;

&lt;p&gt;This is something that Django is not doing (at least in version 1.3.1) and caused me some paintful last Friday. This command:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;python manage.py collectstatic --settings=projectA_settings&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;generated the following result:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;Unknown command: &amp;#39;collectstatic&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;WTF! I was getting crazy as I was pretty sure the &lt;em&gt;django.contrib.staticfiles&lt;/em&gt; app was installed in the projectA settings file. After some debugging I came out with the problem: Django is using dynamic loading, I had a missing dependency in a model module, and the projectA settings wasn’t been loaded, therefore collectstatic was not a valid command.&lt;/p&gt;

&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;To sum up, be careful while dynamic loading your code and log any possible error that may raise during the process. I do, you and &lt;a href=&quot;https://github.com/django/django/blob/master/django/utils/importlib.py&quot;&gt;Django&lt;/a&gt; should too. Otherwise, weird errors will happen because the root of the problem is being hidden.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Baruco, First day</title>
   <link href="http://juandebravo.com/2012/09/08/baruco-saturday"/>
   <updated>2012-09-08T00:00:00+02:00</updated>
   <id>http://juandebravo.com/2012/09/08/baruco-saturday</id>
   <content type="html">&lt;h1 id=&quot;introduction&quot;&gt;Introduction&lt;/h1&gt;

&lt;p&gt;This weekend &lt;a href=&quot;http://obrasocial.lacaixa.es/nuestroscentros/cosmocaixabarcelona/cosmocaixabarcelona_es.html&quot;&gt;CosmoCaixa building&lt;/a&gt;, in Barcelona, is hosting the &lt;a href=&quot;http://www.baruco.org&quot;&gt;BArcelona RUby COnference&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;So I’ll summarize the weekend talks, let you know about the awesome speakers, the wonderful venue and the great organization.&lt;/p&gt;

&lt;h1 id=&quot;keynote-by-scott-chacon-back-to-first-principles&quot;&gt;Keynote by Scott Chacon. Back to First Principles&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;http://twitter.com/chacon&quot;&gt;Scott Chacon&lt;/a&gt;, &lt;a href=&quot;https://www.github.com&quot;&gt;github&lt;/a&gt; cofunder, was the first speaker on stage. He talked us through how he sees the future of working for a software company or at least how he’d like it to be:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;No timetable&lt;/strong&gt;: stop working 8 to 17, start acting as an artist that needs inspiration and work in creative moments.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;No vacations&lt;/strong&gt;: consider that anyone should know when can go on holidays, no rules on that. (I do know that this is something already in place in some companies such as &lt;a href=&quot;http://mashable.com/2012/04/13/netflix-unlimited-vacation/&quot;&gt;Netflix&lt;/a&gt;)&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;No expenses sheets&lt;/strong&gt;: give people the freedom to know what/when/how much he may spend.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;No managers&lt;/strong&gt;: consider when or why you need a manager. In those situations, could he be replaced by a software program? :)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;All the above defines the way an open source project works nowdays.&lt;/p&gt;

&lt;p&gt;Some examples of companies that are questioning the usual way to work:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.valvesoftware.com/company/people.html&quot;&gt;valve&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.gore.com/en_xx/aboutus/culture/index.html&quot;&gt;gore&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://github.com&quot;&gt;github&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;rubymotion&quot;&gt;RubyMotion&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;http://www.rubymotion.com/&quot;&gt;RubyMotion&lt;/a&gt; is a commercial product (162,61 € a licence, coming soon a free licence alternative) that enables a way to create iOS applications using Ruby language.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Good points&lt;/strong&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Reuse your Ruby knowledge instead of learning a new language, new patterns, etc.&lt;/li&gt;
  &lt;li&gt;Use the expressiveness of Ruby instead of Objective-C syntax&lt;/li&gt;
  &lt;li&gt;Get rid of XCode and use your IDE/text editor of choice&lt;/li&gt;
  &lt;li&gt;Community&lt;/li&gt;
  &lt;li&gt;Commandline: you can use your commandline to build the project&lt;/li&gt;
  &lt;li&gt;Storyboards&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/CocoaPods/Specs&quot;&gt;Cocoapods&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;How to create the simplest RubyMotion application:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;motion create sample
cd sample
rake&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Speakers pointed out that ARC (Automatic Reference Counter) it’s the gear that enables RubyMotion (so you need at least iOS 5). Underneath, RubyMotion uses a MacRuby.&lt;/p&gt;

&lt;p&gt;To them it should not be used for production right now, perhaps in six months time.&lt;/p&gt;

&lt;p&gt;My personal opinion, you should learn more than one programming language and at least try the native Objective-C language, create your own opinion about if you should use RubyMotion or any other high level framework such as &lt;a href=&quot;http://phonegap.com/&quot;&gt;PhoneGap&lt;/a&gt; or &lt;a href=&quot;http://www.appcelerator.com/&quot;&gt;Titanium&lt;/a&gt;.&lt;/p&gt;

&lt;h1 id=&quot;getting-consistent-behavior-across-your-api&quot;&gt;Getting consistent behavior across your API&lt;/h1&gt;

&lt;p&gt;Principles for either internal or external API:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Less Surprise principle&lt;/li&gt;
  &lt;li&gt;Consistent formatting&lt;/li&gt;
  &lt;li&gt;Consistent naming and format in the overall API&lt;/li&gt;
  &lt;li&gt;Handle carefully unexpected responses&lt;/li&gt;
  &lt;li&gt;Ensure you are not creating bad or missing error messages&lt;/li&gt;
  &lt;li&gt;Let people know what you accept and give them examples&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;How to achieve:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Centralize behavior&lt;/li&gt;
  &lt;li&gt;DRY (dont repeat yourself)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Warm up:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Treat you API like the interface it is&lt;/li&gt;
  &lt;li&gt;Aim for consitency&lt;/li&gt;
  &lt;li&gt;Become your own client and challenge your API design&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;deconstructing-the-framework&quot;&gt;Deconstructing the framework&lt;/h1&gt;
&lt;p&gt;Gary Bernhardt talked about how useful is the SRP (Single Responsability Principle) while creating a well-defined application that should be maintained during a long period. I do agree.
Regarding this principle, he mentioned Rails controller as a piece of software that, by default, is in charge of different tasks: authorization, authentication, service logic, form validation, serialization.
He has been working on that OS project called &lt;a href=&quot;https://github.com/garybernhardt/raptor&quot;&gt;raptor&lt;/a&gt; that is a proof of concept, not ready to use in production, about how to split code and separate reponsabilities in a Rails application.&lt;/p&gt;

&lt;h1 id=&quot;life-beyond-http&quot;&gt;Life beyond HTTP&lt;/h1&gt;
&lt;p&gt;Consider a protocol as a tool you can use to improve your system. About application protocols:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;SMTP&lt;/strong&gt; (Simple Mail Transfer Protocol)&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;DNS&lt;/strong&gt; (Domain Name System)&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;XMPP&lt;/strong&gt; (Extensible Messaging and Presence Protocol)&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;IRC&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;SSH&lt;/strong&gt; (Secure Shell)&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;STOMP&lt;/strong&gt; (Streaming Text Oriented Messaging Protocol)&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;SPDY&lt;/strong&gt; (): Multiplexed HTTP:
    &lt;ul&gt;
      &lt;li&gt;open an HTTP connection and can send several requests in parallel.&lt;/li&gt;
      &lt;li&gt;request priorization&lt;/li&gt;
      &lt;li&gt;compressed headers&lt;/li&gt;
      &lt;li&gt;server pushed streams&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;why-agile&quot;&gt;Why Agile&lt;/h1&gt;

&lt;p&gt;Software engineering has failed during the past decades while trying to achieve:
- Reduce code
- Eliminate human errors
- Eliminate project variability&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.twitter.com/nusco&quot;&gt;Paolo&lt;/a&gt; suggests using the scientific method when developing software:
- observation
- hypothesis
- experiment&lt;/p&gt;

&lt;p&gt;Something that has become lately to the news as part of the &lt;a href=&quot;http://en.wikipedia.org/wiki/Lean_Startup&quot;&gt;Lean Startup&lt;/a&gt; approach.&lt;/p&gt;

&lt;h1 id=&quot;lighting-talks&quot;&gt;Lighting talks&lt;/h1&gt;

&lt;p&gt;Last, but not least, there has been ten lightings talks (5’ each) about different stuff like graph databases and the new service by &lt;a href=&quot;http://www.aentos.com/en&quot;&gt;aentos&lt;/a&gt; called &lt;a href=&quot;http://graphendb.com&quot;&gt;GrapheneDB&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;warm-up&quot;&gt;Warm up&lt;/h1&gt;
&lt;p&gt;Great speakers (Scott Chacon, Anthony Eden, Paolo Perrotta), great contents (API uniformity, Deconstructing the framework), cool people, and two new t-shirts for my ever growing collection.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Ensuring Array as object type</title>
   <link href="http://juandebravo.com/2012/08/05/ensuring-array-as-object-type"/>
   <updated>2012-08-05T00:00:00+02:00</updated>
   <id>http://juandebravo.com/2012/08/05/ensuring-array-as-object-type</id>
   <content type="html">&lt;p&gt;It happens often that you need an array as object type, and even if you have defined your API like that, you still want to double check that the parameter received in your method is an array:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;def foo(param)
  param = Array[param] if !param.is_a?(Array)
  # Service logic here
end&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Fortunalety in ruby you have the following feature that converts your parameter to an array, or does nothing in case it is already an array:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;def foo(param)
  param = Array(param)
end&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This feature does not exist in python, or I haven’t found it though.&lt;/p&gt;

&lt;p&gt;The following snippet covers that funcionality:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;# list_utils.py

def list_(values, *more_values):
    &amp;quot;&amp;quot;&amp;quot;
    Creates a list using one or more elements.
    If the parameter is a list, do nothing
    &amp;quot;&amp;quot;&amp;quot;
    if not isinstance(values, list):
        values = [values]
    if len(more_values) &amp;gt; 0:
        values.extend(more_values)
    return values&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;from list_utils import list_

def send_mail(destinations, *args, *kwargs):
    destinations = list_(destinations)

    for destination in destinations:
        # your service logic&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;You can check the behavior with the following chunk of unit tests:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;import unittest

from list_utils import list_

class ListTests(unittest.TestCase):

    def test_parameter_is_a_string(self):
        self.assertEquals(list_(&amp;quot;foo&amp;quot;), [&amp;quot;foo&amp;quot;])

    def test_parameter_is_an_array(self):
        self.assertEquals(list_([&amp;quot;foo&amp;quot;]), [&amp;quot;foo&amp;quot;])

    def test_parameter_is_an_integer(self):
        self.assertEquals(list_(1), [1])

    def test_parameter_is_a_list_with_multiple_elements(self):
        self.assertEquals(list_([1,2,3,4]), [1,2,3,4])

    def test_parameter_is_multiple(self):
        self.assertEquals(list_(1,2,3,4), [1,2,3,4])

    def test_parameter_is_none(self):
        self.assertEquals(list_(None), [None])

if __name__ == &amp;#39;__main__&amp;#39;:
    unittest.main()&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
</content>
 </entry>
 
 <entry>
   <title>Things I like using python (part II)</title>
   <link href="http://juandebravo.com/2012/07/24/why-python-rocks_and_two"/>
   <updated>2012-07-24T00:00:00+02:00</updated>
   <id>http://juandebravo.com/2012/07/24/why-python-rocks_and_two</id>
   <content type="html">&lt;h1 id=&quot;introduction&quot;&gt;Introduction&lt;/h1&gt;

&lt;p&gt;Here it goes my second and last post on the “things that I like about coding in python” series in which was missing a small section on how cool these features (below) are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Decorators&lt;/li&gt;
  &lt;li&gt;Context managers&lt;/li&gt;
  &lt;li&gt;Use blank spaces to define code blocks&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;decorators&quot;&gt;Decorators&lt;/h1&gt;
&lt;p&gt;A decorator is a function that takes at least an argument, a function object, and returns a single value, a function object. It’s commonly used to, taking advantage of python closures support, add new features to the original function object (the one received as argument).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.python.org/dev/peps/pep-0318/&quot;&gt;Decorators were defined in PEP 318&lt;/a&gt; as a way to ease the definition of class and static methods.&lt;/p&gt;

&lt;p&gt;Before decorators reached python, the following excerpt was needed to create a class/static method:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;class Foo(object):
    
    def bar(self, name):
        return &amp;quot;Hello {0} from my class method&amp;quot;.format(name)

    def bazz(name):
        return &amp;quot;Hello {0} from my static method&amp;quot;.format(name)
    
    # Convert bar from instance to class method
    bar = classmethod(bar)
    
    # Create a static method
    bazz = staticmethod(bazz)

if __name__ == &amp;#39;__main__&amp;#39;:
    print Foo.bar(&amp;#39;John Doe&amp;#39;)
    print Foo.bazz(&amp;#39;John Doe&amp;#39;)&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Reminder: the main difference between static and class methods is that a class method can be overriden by a child, which is not true for a static method. Also a class method needs the class object as first parameter in the method definition. At this point, I don’t find a good reason to define a static method though.&lt;/p&gt;

&lt;p&gt;Using decorators and its syntax sugar (the &lt;strong&gt;@&lt;/strong&gt; symbol), the previous excerpt can be re-written to:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;class Foo(object):
    
    # Define bar as a class method
    # As first parameter we could use &amp;#39;self&amp;#39;, but the facto standard is to use &amp;#39;cls&amp;#39; while
    # defining class methods
    @classmethod
    def bar(cls, name):
        return &amp;quot;Hello {0} from my class method&amp;quot;.format(name)

    # Define bazz as a static method
    @staticmethod
    def bazz(name):
        return &amp;quot;Hello {0} from my static method&amp;quot;.format(name)
    
if __name__ == &amp;#39;__main__&amp;#39;:
    print Foo.bar(&amp;#39;John Doe&amp;#39;)
    print Foo.bazz(&amp;#39;John Doe&amp;#39;)&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The best blog post explaining decorators I’ve found so far is &lt;a href=&quot;http://pythonconquerstheuniverse.wordpress.com/2012/04/29/python-decorators&quot;&gt;this one from Steve Ferg&lt;/a&gt;. I find decorators quite useful when you need transversal functionalities in your code. A set of examples can be found in &lt;a href=&quot;http://wiki.python.org/moin/PythonDecoratorLibrary&quot;&gt;wiki.python.org&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;example&quot;&gt;Example&lt;/h3&gt;

&lt;p&gt;The following code creates a decorator that dumps the arguments that a function/method receives when executed. The base of that code is taken from &lt;a href=&quot;http://wiki.python.org/moin/PythonDecoratorLibrary#Easy_Dump_of_Function_Arguments&quot;&gt;wiki.python.org#Easy_Dump_Of_Function_Arguments&lt;/a&gt;.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;# decorator_utils.py

import logging

logging.basicConfig(level=logging.DEBUG)

def dump_args(func):
    # get function arguments name
    argnames = func.func_code.co_varnames[:func.func_code.co_argcount]

    # get function name
    fname = func.func_name
    logger = logging.getLogger(fname)

    def echo_func(*args, **kwargs):
        &amp;quot;&amp;quot;&amp;quot;
        Log arguments, including name, type and value
        &amp;quot;&amp;quot;&amp;quot;
        def format_arg(arg):
            return &amp;#39;%s=%s&amp;lt;%s&amp;gt;&amp;#39; % (arg[0], arg[1].__class__.__name__, arg[1])
        logger.debug(&amp;quot; args =&amp;gt; {0}&amp;quot;.format(&amp;#39;, &amp;#39;.join(
            format_arg(entry) for entry in zip(argnames, args) + kwargs.items())))
        return func(*args, **kwargs)

    return echo_func

# example.py

from decorator_utils import dump_args

class UserModel(object):
    &amp;quot;&amp;quot;&amp;quot;
    User model object
    &amp;quot;&amp;quot;&amp;quot;

    def __init__(self, user_id=None):
        self.user_id = user_id

    @classmethod
    @dump_args
    def find_by_id(cls, user_id):
        pass

    @dump_args
    def update(self, **kwargs):
        pass

    def __str__(self):
        return unicode(self).encode(&amp;#39;utf-8&amp;#39;)

    def __unicode__(self):
        return str(self.user_id)


@dump_args
def f1(user_id, arg1, arg2, **kwargs):
    pass


if __name__ == &amp;#39;__main__&amp;#39;:
    UserModel.find_by_id(&amp;#39;foo&amp;#39;)

    u = UserModel(&amp;#39;879234-32423423&amp;#39;)
    u.update(name=&amp;quot;John&amp;quot;, surname=&amp;quot;Doe&amp;quot;)
    f1(u, 2, 3)

    f1(u, 2, 3, foo=&amp;#39;bazz&amp;#39;, bar=23)&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The execution of the previous code generates the following output:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;λ python example.py

DEBUG:find_by_id: args =&amp;gt; cls=type&amp;lt;&amp;lt;class &amp;#39;__main__.UserModel&amp;#39;&amp;gt;&amp;gt;, user_id=str&amp;lt;foo&amp;gt;
DEBUG:update: args =&amp;gt; self=UserModel&amp;lt;879234-32423423&amp;gt;, surname=str&amp;lt;Doe&amp;gt;, name=str&amp;lt;John&amp;gt;
DEBUG:f1: args =&amp;gt; user_id=UserModel&amp;lt;879234-32423423&amp;gt;, arg1=int&amp;lt;2&amp;gt;, arg2=int&amp;lt;3&amp;gt;
DEBUG:f1: args =&amp;gt; user_id=UserModel&amp;lt;879234-32423423&amp;gt;, arg1=int&amp;lt;2&amp;gt;, arg2=int&amp;lt;3&amp;gt;, foo=str&amp;lt;bazz&amp;gt;, bar=int&amp;lt;23&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;As it’s shown above (method &lt;em&gt;find_by_id&lt;/em&gt;), you can use more than one decorator in a function/method (and are executed bottom-up).&lt;/p&gt;

&lt;h1 id=&quot;context-managers-with-statement&quot;&gt;Context managers (&lt;strong&gt;with&lt;/strong&gt; statement)&lt;/h1&gt;

&lt;p&gt;A context manager allows you to create and manage a run time context. It is created when starting a &lt;strong&gt;with&lt;/strong&gt; statement, it’s available during the code execution inside the &lt;em&gt;with&lt;/em&gt; block, and is exited at the end of the &lt;em&gt;with&lt;/em&gt; code. The most commonly used scenario is while &lt;strong&gt;allocating resources&lt;/strong&gt;: a context manager ensures you use the resource only while it’s actually required and deallocates it when it should not be used anymore (of course python needs you to write the code properly for that if you are defining your own context manager).&lt;/p&gt;

&lt;p&gt;The basic example using python native library to handle a file object:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;with open(&amp;#39;/var/log/events.log&amp;#39;, &amp;#39;w&amp;#39;) as f:
    n = f.write(&amp;quot;New user created&amp;quot;)&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The file &lt;em&gt;/var/log/events.log&lt;/em&gt; is opened when entering into the context manager, and closed when the code block is finished. You don’t need to catch exceptions, close the file, etc.&lt;/p&gt;

&lt;p&gt;To create a context manager you need to define a class that implements two methods, &lt;strong&gt;__enter__&lt;/strong&gt; and &lt;strong&gt;__exit__&lt;/strong&gt;. In the following code I’m creating a context manager, &lt;em&gt;user&lt;/em&gt;, that retrieves an object from an external source and stores it back if updated:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;class User(dict):
    &amp;quot;&amp;quot;&amp;quot;
    Database object
    &amp;quot;&amp;quot;&amp;quot;
    def __init__(self, user_id, **kwargs):
        self.user_id = user_id
        self.update(kwargs)

    def has_changed(self):
        # logic to check if any user property has been updated
        return True

class user(object):
    &amp;quot;&amp;quot;&amp;quot;
    Context manager for a User object
    &amp;quot;&amp;quot;&amp;quot;

    def __init__(self, user_id):
        self.user_id = user_id

    def __enter__(self):
        &amp;quot;&amp;quot;&amp;quot;
        This code block is executed while entering a context manager
        &amp;quot;&amp;quot;&amp;quot;
        # mock that returns always a basic User
        self.user = User(self.user_id, name=&amp;quot;John&amp;quot;, surname=&amp;quot;Doe&amp;quot;)
        return self.user

    def __exit__(self, _type, value, tb):
        &amp;quot;&amp;quot;&amp;quot;
        This code block is executed at context manager exit
        &amp;quot;&amp;quot;&amp;quot;
        if self.user.has_changed():
            # here the save logic
            pass

if __name__ == &amp;#39;__main__&amp;#39;:
    with user(&amp;#39;00000-11111&amp;#39;) as u:
        u[&amp;#39;name&amp;#39;] = &amp;#39;Johnny&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Switching to ruby, something similar can be achieved with the following snippet:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;class User &amp;lt; Hash
  attr_reader :user_id
  
  def initialize(user_id, params = {})
    @user_id = user_id
    self.update(params) if params.length &amp;gt; 0
    if block_given?
      yield self
      if self.has_changed?
        # here the save logic
      end
    end
  end
  
  def has_changed?
    # logic to check if any user property has been updated
    return True
  end
  
  class &amp;lt;&amp;lt; self
    def find!(user_id)
      # mock that returns always a basic User instance
      if block_given?
        User.new(user_id, {name:&amp;quot;John&amp;quot;, surname:&amp;quot;Doe&amp;quot;}, &amp;amp;Proc.new)
      else
        User.new(user_id, {name:&amp;quot;John&amp;quot;, surname:&amp;quot;Doe&amp;quot;})
      end
    end
  end
end

User.find!(&amp;#39;0000-1111&amp;#39;) do |u|
  u[:name] = &amp;quot;Johnny&amp;quot;
end&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;use-blank-spaces-to-define-code-blocks&quot;&gt;Use blank spaces to define code blocks&lt;/h1&gt;
&lt;p&gt;Not too much to say about this. I thinks it increases readability.&lt;/p&gt;

&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;
&lt;p&gt;I hope you’ve found these articles interesting. I’m sure some good points, like functions being first-class citizens or the collections and functools modules, are missing but at this point I just wanted to highlight my five coolest features. Let me know which are yours so my top five list could easily be “re-prioritized” :-)&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Things I like using python (part I)</title>
   <link href="http://juandebravo.com/2012/07/16/why-python-rocks"/>
   <updated>2012-07-16T00:00:00+02:00</updated>
   <id>http://juandebravo.com/2012/07/16/why-python-rocks</id>
   <content type="html">&lt;h1 id=&quot;introduction&quot;&gt;Introduction&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;/2012/05/31/yet-another-blog-in-the-world/&quot;&gt;As you know&lt;/a&gt; these lasts months I’ve spent quite some time coding python, the language chosen for the project to which I’ve devoted heart, soul and most of my weekends too…&lt;/p&gt;

&lt;p&gt;During the first weeks I really struggled to get the code alive as during the previous two years it was all bout ruby, so python has taken me out of my comfort zone which really hit me. Although I cannot call myself a python expert (yet), I’m enjoying this new friendship.&lt;/p&gt;

&lt;h1 id=&quot;things-i-like-using-python&quot;&gt;Things I like using python&lt;/h1&gt;

&lt;p&gt;I’m going to share some of my favourites features and I’d like to know yours, yours thoughts about them and any missed bit that may be key:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;List comprehensions&lt;/li&gt;
  &lt;li&gt;Generators&lt;/li&gt;
  &lt;li&gt;Decorators&lt;/li&gt;
  &lt;li&gt;Use blank spaces to define code blocks&lt;/li&gt;
  &lt;li&gt;Context managers&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Find below a brief description and example about the first two dots.&lt;/p&gt;

&lt;h1 id=&quot;list-comprehensions&quot;&gt;List comprehensions&lt;/h1&gt;

&lt;p&gt;As python doc says, &lt;a href=&quot;http://docs.python.org/tutorial/datastructures.html#list-comprehensions&quot;&gt;“list comprehensions provide a concise way to create lists”&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;example&quot;&gt;Example&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;users = [{&amp;#39;name&amp;#39;: &amp;#39;John Doe&amp;#39;, &amp;#39;email&amp;#39;: &amp;#39;john@doe.com&amp;#39;},
		 {&amp;#39;name&amp;#39;: &amp;#39;Mike Cunhingam&amp;#39;, &amp;#39;email&amp;#39;: &amp;#39;mike@cunhingam.com&amp;#39;}]

# Retrieve users email
emails = [user[&amp;#39;email&amp;#39;] for user in users]&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Of course something similar can be done in ruby, but after some weeks I felt comfortable with the idea of iterate over objects in an array without calling a specific object method:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;users = [{name: &amp;#39;John Doe&amp;#39;, email: &amp;#39;john@doe.com&amp;#39;},
		 {name: &amp;#39;Mike Cunhingam&amp;#39;, email: &amp;#39;mike@cunhingam.com&amp;#39;}]

# Retrieve users email
emails = users.map{|x| x[:email]}&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;List comprehensions can be used with any iterable object, as strings and arrays instances.&lt;/p&gt;

&lt;h1 id=&quot;generators&quot;&gt;Generators&lt;/h1&gt;

&lt;p&gt;Again reading through python docs, &lt;a href=&quot;http://docs.python.org/tutorial/classes.html#generators&quot;&gt;“generators are a simple and powerful tool for creating iterators”&lt;/a&gt;, covered in &lt;a href=&quot;http://www.python.org/dev/peps/pep-0255/&quot;&gt;PEP255&lt;/a&gt;. Generators may be used when you need to maintain state between values produced and allows you to avoid callback functions.&lt;/p&gt;

&lt;p&gt;Let’s imagine that &lt;a href=&quot;http://developer.github.com&quot;&gt;Github API&lt;/a&gt; only allows to download an user gist per API call. In the example below we’re using a generator to create an iterator over user gists. To retrieve an user gist we’re maintaining the state between calls (the current page) and we’re retrieving the data only when is actually needed. Of course another approach could be to retrieve a chunk of gists and return them upon request, but it seems a good example about how to use generators :-). Kudos to &lt;a href=&quot;https://twitter.com/anarchyco&quot;&gt;@anarchyco&lt;/a&gt; for inspiring me to write this code.&lt;/p&gt;

&lt;script src=&quot;http://gist.github.com/3124648.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;To be continued…&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Fix latest commit branch using git</title>
   <link href="http://juandebravo.com/2012/06/26/git-tip-how-to-change-the-branch-of-a-commit"/>
   <updated>2012-06-26T00:00:00+02:00</updated>
   <id>http://juandebravo.com/2012/06/26/git-tip-how-to-change-the-branch-of-a-commit</id>
   <content type="html">&lt;h1 id=&quot;introduction&quot;&gt;Introduction&lt;/h1&gt;

&lt;p&gt;I like git, I hope you like it too. I like using the &lt;a href=&quot;http://nvie.com/posts/a-successful-git-branching-model/&quot;&gt;git flow&lt;/a&gt; branching model while developing new features or fixing undesired bugs in a stable version.&lt;/p&gt;

&lt;p&gt;Sometimes while you’re starting a new feature, you forget changing your current branch and commit a change to the wrong branch (often develop).
Sometimes while you’re starting a new feature, you forget changing your current branch and end up committing a change to the wrong branch (often develop).&lt;/p&gt;

&lt;p&gt;Let’s walk through the steps required to move your latest commit from the wrong branch to the right one:&lt;/p&gt;

&lt;h1 id=&quot;prerequisites&quot;&gt;1.- Prerequisites&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;Create the repository with an initial content and create the develop branch.&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;bundle gem foo_bar
cd foo_bar
git commit -am &amp;quot;first commit&amp;quot;
git checkout -b develop
# modify version.rb file to increase the version number
git commit -am &amp;quot;bump version&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;Create your feature branch&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;git branch feature/hello
git lg                                                                                                                                   
* d62b49a - (HEAD, feature/hello, develop) bump version - juandebravo (66 seconds ago)
* 9158f06 - (master) first commit - juandebravo (2 minutes ago)&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;Commit a change to develop (instead of your feature branch)&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;echo &amp;quot;require &amp;#39;foo_bar/version&amp;#39;\n\nmodule FooBar\n  def self.hello(name)\n    print \&amp;quot;hello #{name}\&amp;quot;\n  end\nend&amp;quot; &amp;gt; lib/foo_bar.rb
git commit -am &amp;quot;add hello method&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;WRONG! You commit to develop instead of feature/hello&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;git lg
* ecd59c3 - (HEAD, develop) add hello method - juandebravo (2 seconds ago)
* d62b49a - (feature/hello) bump version - juandebravo (40 minutes ago)
* 9158f06 - (master) first commit - juandebravo (40 minutes ago)&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;fix-the-wrong-commit&quot;&gt;2.- Fix the wrong commit&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;Merge develop to your feature branch&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;git checkout feature/crud_users
git merge develop
git lg
* ecd59c3 - (HEAD, feature/hello, develop) add hello method - juandebravo (3 minutes ago)
* d62b49a - bump version - juandebravo (43 minutes ago)
* 9158f06 - (master) first commit - juandebravo (44 minutes ago)&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Now you already have the change in your feature branch. Now it’s time to remove it from develop branch.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Remove the commit from develop branch&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;git checkout develop
git reset --hard HEAD~1
git lg
* ecd59c3 - (feature/hello) add hello method - juandebravo (4 minutes ago)
* d62b49a - (HEAD, develop) bump version - juandebravo (44 minutes ago)
* 9158f06 - (master) first commit - juandebravo (44 minutes ago)&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;That’s all!!&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Yet another blog in the world</title>
   <link href="http://juandebravo.com/2012/05/31/yet-another-blog-in-the-world"/>
   <updated>2012-05-31T00:00:00+02:00</updated>
   <id>http://juandebravo.com/2012/05/31/yet-another-blog-in-the-world</id>
   <content type="html">&lt;h1 id=&quot;hello-world&quot;&gt;Hello world&lt;/h1&gt;

&lt;p&gt;During the last months I’ve felt an increasing need to share my thoughts with the tech world for the following reasons:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;I think it’s a good way to keep on learning English. Yes fellas, I’ve been working on Shakespeare’s language for a while but there is a whole road of new words and expressions to take in. Sad but true. So, never give up. Learn!&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;One of my new year resolutions was to embrace a new programming language. It’s incredible how much you can learn in a travel like that and sometimes I need to share some bits of that new knowledge. Some of those might be could obvious to you but they are new to me that’s why they are here. As my motto says: “never stop learning”.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;why-jekyll-and-not-wordpress&quot;&gt;Why Jekyll and not Wordpress?&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;In 2011 I’d been working mainly in an innovation project where we had the chance to test and use different tools to build our platform and service. It was an awesome adventure. One of the things we did was creating all the documentation our service needed using &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt; format and running a &lt;a href=&quot;http://rake.rubyforge.org/&quot;&gt;Rake&lt;/a&gt; task to generate the HTML pages that any HTTP server in the world could serve. Yes, we did not need any hard editorial flow to follow, we were innovators. Kudos to &lt;a href=&quot;http://www.twitter.com/osuka&quot;&gt;@osuka&lt;/a&gt; for letting me that freedom.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ruby, github and git are my tools of choice whenever I can use them and I’m a big fan of UNIX shell so it’s kind of familiar environment for me. Kudos to &lt;a href=&quot;http://pages.github.com/#using_jekyll_for_complex_layouts&quot;&gt;GitHub pages for supporting Jekyll&lt;/a&gt;. I can use git flow to write my blog!&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Last, but not least, my fellow &lt;a href=&quot;http://www.twitter.com/rafeca&quot;&gt;@rafeca&lt;/a&gt; started a blog during our international assignment in &lt;a href=&quot;http://www.jajah.com&quot;&gt;Jajah&lt;/a&gt;. I’m using &lt;a href=&quot;http://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt; and I have borrowed his layout to build this blog.  Hopefully I’ll write more often than he does, though. For me it’s also a way to share experiences with him now that ours careers have diverged :-) Please check &lt;a href=&quot;http://rafeca.com/2011/11/09/creating-this-blog/&quot;&gt;his explanation about how to create a blog like this from scratch&lt;/a&gt;.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;what-will-be-this-about&quot;&gt;What will be this about&lt;/h1&gt;

&lt;p&gt;Well, I’m always reading new stuff, you know, never stop learning. I’ll try to show some of the new stuff I’m reading about. At this point, could be something related to:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ruby, my programming language of choice.&lt;/li&gt;
  &lt;li&gt;python, the language I’m currently using more widely.&lt;/li&gt;
  &lt;li&gt;git, the SCM that is amazing IMO.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.adhearsion.com&quot;&gt;Adhearsion&lt;/a&gt;, the open source telephony framework I was actively contributing for some months and that is being leaded by the awesome Ben Klang, Ben Langfeld and Jason Goecke.&lt;/li&gt;
  &lt;li&gt;Freeswitch and ESL, the telephony platform I’m hacking with (not so often though)&lt;/li&gt;
  &lt;li&gt;Scala: learning Scala was my first new year resolution, I’ve started learning now and I do like to syntax. I don’t have yet a strong opinion about it that seems quite amazing.&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 

</feed>
